webpackJsonp([1],{"2lMp":function(t,e){},"5AqT":function(t,e){},D4uH:function(t,e,n){"use strict";function a(){return"fa-"+(s++).toString(16)}function o(t){n("5AqT")}var i={},r={name:"icon",props:{name:{type:String,validator:function(t){return t?t in i||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+t+'".\nPlease make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?i[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,n=t.height;return Math.max(e,n)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(t,n,o){var i=a();return e[o]=i,' id="'+i+'"'}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(t,n,a,o){var i=n||o;return i&&e[i]?"#"+e[i]:t}),t}},mounted:function(){var t=this;if(!this.icon){this.$children.forEach(function(e){e.outerScale=t.normalizedScale});var e=0,n=0;this.$children.forEach(function(t){e=Math.max(e,t.width),n=Math.max(n,t.height)}),this.childrenWidth=e,this.childrenHeight=n,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(n-t.height)/2})}},register:function(t){for(var e in t){var n=t[e];n.paths||(n.paths=[]),n.d&&n.paths.push({d:n.d}),n.polygons||(n.polygons=[]),n.points&&n.polygons.push({points:n.points}),i[e]=n}},icons:i},s=870711,c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{class:t.klass,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e,a){return n("path",t._b({key:"path-"+a},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e,a){return n("polygon",t._b({key:"polygon-"+a},"polygon",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.raw?[n("g",{domProps:{innerHTML:t._s(t.raw)}})]:t._e()])],2)},l=[],u={render:c,staticRenderFns:l},d=u,p=n("VU/8"),m=o,h=p(r,d,!1,m,null,null);e.a=h.exports},Ewoc:function(t,e){},NHnr:function(t,e,n){"use strict";function a(t){n("XTbq")}function o(t){n("ihmE")}function i(t){n("QsjU")}function r(t){n("Nb12")}function s(t){n("WaCb")}function c(t){n("eyH3")}function l(t){n("NJDl")}function u(t){n("XqoT")}function d(t){n("qsfc")}function p(t){n("indq")}function m(t){n("jzD6")}function h(t){n("Ewoc")}function f(t){n("cs9i")}Object.defineProperty(e,"__esModule",{value:!0});var v=n("7+uW"),_={breakpoints:{xs:{min:0,max:767},sm:{min:768,max:991},md:{min:992,max:1199},lg:{min:1200,max:1919},xl:{min:1920,max:1/0}},breakpoint:function(t){function e(t,e){return e>=n[t].min&&e<=n[t].max}var n=this.breakpoints;return e("xs",t)?"xs":e("sm",t)?"sm":e("md",t)?"md":e("lg",t)?"lg":e("xl",t)?"xl":void 0}},j={name:"app",created:function(){var t=this;if(this.$store.commit("setBreakpoint",_.breakpoint(window.innerWidth)),window.addEventListener("resize",function(){var e=_.breakpoint(window.innerWidth);t.$store.state.breakpoint!==e&&t.$store.commit("setBreakpoint",e)}),this.$store.dispatch("GET_PROJECTS"),this.$store.getters.projectIds.length>0){var e=this.$store.getters.projectIds[0];this.$store.dispatch("GET_PROJECT_DATA",{id:e})}}},g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},b=[],w={render:g,staticRenderFns:b},y=w,P=n("VU/8"),x=a,k=P(j,y,!1,x,null,null),C=k.exports,E=n("NYxO"),$={active:{modal:"",tab:"",dataGroupIndex:null,project:{id:"",name:"",dataGroups:[],userStories:[],userJourney:[]}},projects:{},breakpoint:""},N=n("fZjL"),S=n.n(N),O={name:"",dataGroups:[],userStories:[],userJourneys:[]},G={project:O},T={devMode:function(){return!1},breakpointIs:function(t){return function(e){return t.breakpoint===e}},isNewUser:function(t){return 0===S()(t.projects).length},isReturningUser:function(t,e){return!e.isNewUser},regex:function(){return{isProject:/^proj_/}},hasMultipleProjects:function(t,e){return S()(t.projects).length>1},projectIds:function(t){return S()(t.projects)},projectNames:function(t,e){return e.projectIds.map(function(e){return t.projects[e].name})},projectMap:function(t,e){var n={};return e.projectIds.map(function(e){n[e]=t.projects[e].name}),n},template:function(){return G},modalShowing:function(t){var e=function(e){return t.active.modal===e};return{addProject:e("addProject"),switchProject:e("switchProject"),renameProject:e("renameProject")}}},M=n("//Fk"),D=n.n(M),U=n("woOf"),R=n.n(U),A={GET_PROJECTS:function(t){var e={};S()(localStorage).filter(function(e){return t.getters.regex.isProject.test(e)}).forEach(function(t){e[t]=R()(JSON.parse(localStorage[t]),{id:t})}),t.commit("setProjects",{projects:e})},ADD_PROJECT:function(t,e){var n="proj_"+Date.now(),a=e.name,o=R()({},t.getters.template.project,{name:a});return new D.a(function(e){t.commit("localStorage__addProject",{id:n,project:o}),localStorage[n]&&e()}).then(function(){return t.commit("addProject",R()({},o,{id:n})),t.getters.projectIds.includes(n)}).then(function(e){e&&t.commit("setProjectData",R()({},o,{id:n}))})},RENAME_PROJECT:function(t,e){var n=t.state.active.project.id,a=e.name,o=R()({},t.state.active.project,{name:a});return delete o.id,new D.a(function(e){t.commit("localStorage__updateProject",{id:n,project:o}),JSON.parse(localStorage[n]).name===a&&e()}).then(function(){t.commit("renameProject",{name:a,id:n})})},DELETE_PROJECT:function(t,e){var n=e.id;return new D.a(function(e){t.commit("localStorage__deleteProject",{id:n}),localStorage[n]||e()}).then(function(){return t.commit("deleteProject",{id:n}),!t.getters.projectIds.includes(n)}).then(function(e){if(e){var n=t.getters.projectIds[0],a=R()({},t.state.projects[n],{id:n});t.commit("setProjectData",a)}})},DELETE_ALL_PROJECTS:function(t){t.getters.projectIds.forEach(function(e){t.commit("localStorage__deleteProject",{id:e})}),t.commit("deleteAllProjects")},GET_PROJECT_DATA:function(t,e){var n=JSON.parse(localStorage[e.id]);t.commit("setProjectData",R()({},{id:e.id},n))}},I=n("mvHQ"),J=n.n(I),q={localStorage__addProject:function(t,e){localStorage[e.id]=J()(e.project)},localStorage__updateProject:function(t,e){localStorage[e.id]=J()(e.project)},localStorage__deleteProject:function(t,e){localStorage.removeItem(e.id)},setActiveTab:function(t,e){t.active.tab=e.tabName},addProject:function(t,e){v.default.set(t.projects,e.id,e)},renameProject:function(t,e){t.projects[e.id].name=e.name,t.active.project.name=e.name},setProjectData:function(t,e){t.active.project=e},setProjects:function(t,e){t.projects=e.projects},deleteProject:function(t,e){v.default.delete(t.projects,e.id)},deleteAllProjects:function(t){t.projects={}},openModal:function(t,e){t.active.modal=e},closeModal:function(t){t.active.modal=null},setBreakpoint:function(t,e){t.breakpoint=e}};v.default.use(E.a);var F=new E.a.Store({state:$,getters:T,actions:A,mutations:q}),z=n("/ocq"),V=n("gRE1"),B=n.n(V),L=n("Dd8w"),H=n.n(L),W={name:"home",data:function(){return{newProjectName:"",typing:!1}},computed:H()({},Object(E.b)(["projectNames","isNewUser","isReturningUser","template"]),Object(E.c)(["projects"]),{validationChecks:function(){return{hasName:""!==this.newProjectName,nameIsUnique:!B()(this.projects).includes(this.newProjectName),typing:this.typing}},errors:function(){var t=[],e=this.validationChecks;return e.typing&&(e.hasName||t.push({text:"You need to enter a name for your project to continue",type:"warning"}),e.nameIsUnique||t.push({text:"Project name already exists",type:"danger"})),t},validated:function(){return!B()(this.validationChecks).includes(!1)}}),methods:{addProject:function(){this.$store.dispatch("ADD_PROJECT",{name:this.newProjectName}),this.$notify({title:"Project",message:"added",type:"success",showClose:!1,duration:1500,position:"bottom-right"}),this.reset()},reset:function(){this.newProjectName="",this.typing=!1}}},Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",{staticClass:"home"},[n("el-row",[t.isReturningUser?n("el-col",[n("el-tag",{attrs:{type:"warning"}},[t._v("Dashboard coming soon...")])],1):t._e(),t._v(" "),t.isNewUser?n("el-col",{staticClass:"setup",attrs:{sm:10,md:8}},[n("h3",[t._v("To get started, simply choose a name for your first project:")]),t._v(" "),n("div",{staticClass:"add-new-project"},[n("el-input",{staticClass:"project-name__input",on:{blur:function(e){t.typing=!0}},nativeOn:{"~keydown":function(e){t.typing=!0}},model:{value:t.newProjectName,callback:function(e){t.newProjectName=e},expression:"newProjectName"}}),t._v(" "),n("p",{staticClass:"project-name__errors"},t._l(t.errors,function(e,a){return n("el-tag",{key:a,attrs:{type:e.type,size:"mini"}},[t._v(t._s(e.text))])})),t._v(" "),n("el-button",{attrs:{type:"warning",disabled:!t.validated},on:{click:t.addProject}},[t._v("Create")])],1)]):t._e()],1)],1)},X=[],Q={render:Y,staticRenderFns:X},K=Q,Z=n("VU/8"),tt=o,et=Z(W,K,!1,tt,"data-v-1dddc1e4",null),nt=et.exports,at={props:{mode:{type:String,required:!0}},mounted:function(){"edit"===this.mode&&(this.index=this.$store.getters.selected.dataGroup.index,this.name=this.$store.getters.selected.dataGroup.dataGroup.name,this.properties=this.$store.getters.selected.dataGroup.dataGroup.properties)},data:function(){return{typing:!1,index:null,name:"",properties:[]}},methods:{isFirst:function(t){return 0===t},initialiseProperties:function(t){this.addOption(t.target.value)},addOption:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.properties.push({key:Date.now(),value:t})},removeOption:function(t){this.properties.splice(t,1)},saveDataGroup:function(){this.properties[0]&&!this.properties[0].value&&this.removeOption(0),this.$store.state.active.dataGroups[this.index]={name:this.name,properties:this.properties},this.$store.getters.selected.dataGroup.index=null,this.$store.getters.selected.dataGroup.dataGroup=null,this.cancel()},deleteDataGroup:function(){this.$store.state.active.dataGroups.splice(this.index,1),this.$store.getters.selected.dataGroup.index=null,this.$store.getters.selected.dataGroup.dataGroup=null,this.cancel()},cancel:function(){this.$store.state.ui.dataGroup.editing=!1}},computed:{title:function(){return this.mode+" data group"},matchesOriginalName:function(){return this.$store.state.active.dataGroups[this.index].name===this.name},nameAlreadyExists:function(){return this.$store.state.active.dataGroups.map(function(t){return t.name}).includes(this.name)},nameNotEntered:function(){return""===this.name},hasProperties:function(){return this.properties.length>0},propertiesLength:function(){return this.properties.length}}},ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",{staticClass:"edit-data-group",attrs:{type:"flex",span:12,offset:6}},[n("el-row",{staticClass:"close-bar",attrs:{type:"flex",justify:"end"}},[n("icon",{staticClass:"icon",attrs:{name:"times",scale:"1.5"},nativeOn:{click:function(e){return t.cancel(e)}}})],1),t._v(" "),n("h4",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),n("el-row",{staticClass:"section",attrs:{type:"flex"}},[n("el-col",[n("span",{staticClass:"subtitle required"},[t._v("Name")]),t._v(" "),n("el-row",{attrs:{type:"flex"}},[n("el-input",{staticClass:"centered",on:{blur:function(e){t.typing=!0}},model:{value:t.name,callback:function(e){t.name="string"==typeof e?e.trim():e},expression:"name"}})],1),t._v(" "),t.nameNotEntered&&!t.typing?n("span",{staticClass:"rules"},[t._v("You need to enter a name")]):t.nameAlreadyExists&&!t.matchesOriginalName?n("span",{staticClass:"rules"},[t._v("You already have a data group with that name")]):t._e()],1)],1),t._v(" "),n("el-row",{staticClass:"section"},[n("el-col",[n("span",{staticClass:"subtitle"},[t._v("Properties")]),t._v(" "),t.hasProperties?t._l(t.properties,function(e,a){return n("el-row",{key:a,staticClass:"no-gutter",attrs:{type:"flex"}},[n("el-input",{attrs:{placeholder:""},model:{value:e.value,callback:function(n){t.$set(e,"value","string"==typeof n?n.trim():n)},expression:"property.value"}}),t._v(" "),n("el-button-group",{staticClass:"joint-input"},[n("el-button",{staticClass:"remove",attrs:{type:"warning",plain:""},on:{click:function(e){t.removeOption(a)}}},[t._v("-")]),t._v(" "),n("el-button",{staticClass:"add",attrs:{type:"warning",plain:""},on:{click:function(e){t.addOption()}}},[t._v("+")])],1)],1)}):[n("el-row",{staticClass:"no-gutter",attrs:{type:"flex"}},[n("el-button",{staticClass:"U--full-width",attrs:{type:"warning",plain:""},nativeOn:{click:function(e){t.addOption()}}},[t._v("Add Property")])],1)]],2)],1),t._v(" "),n("el-row",{staticClass:"section",attrs:{type:"flex"}},[n("el-col",{staticStyle:{display:"flex"},attrs:{span:4}},[n("icon",{staticClass:"delete-data-group",attrs:{name:"trash",scale:"1.75"},nativeOn:{click:function(e){return t.deleteDataGroup(e)}}})],1),t._v(" "),n("el-col",{attrs:{span:16}},[n("el-button",{staticClass:"save-btn",attrs:{type:"warning",plain:"",disabled:t.nameNotEntered||t.nameAlreadyExists&&!t.matchesOriginalName},on:{click:t.saveDataGroup}},[t._v("Save")])],1)],1)],1)},it=[],rt={render:ot,staticRenderFns:it},st=rt,ct=n("VU/8"),lt=i,ut=ct(at,st,!1,lt,"data-v-acb24802",null),dt=ut.exports,pt={methods:{addNewDataGroup:function(){this.$store.state.ui.dataGroup.adding=!0}}},mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",[n("el-button",{staticClass:"U--full-width",attrs:{type:"warning",plain:""},nativeOn:{click:function(e){return t.addNewDataGroup(e)}}},[t._v("Add Data Group")])],1)},ht=[],ft={render:mt,staticRenderFns:ht},vt=ft,_t=n("VU/8"),jt=r,gt=_t(pt,vt,!1,jt,"data-v-f0bcfaa6",null),bt=gt.exports,wt={computed:H()({},Object(E.c)({dataGroups:function(t){return t.active.project.dataGroups}}))},yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",{attrs:{span:18}},[n("el-row",{attrs:{gutter:20}},t._l(t.dataGroups,function(e,a){return n("el-col",{key:e.name,staticStyle:{"padding-top":"20px"},attrs:{span:12}},[n("data-group",{attrs:{info:e},nativeOn:{click:function(n){t.editDataGroup(e,a)}}})],1)}))],1)},Pt=[],xt={render:yt,staticRenderFns:Pt},kt=xt,Ct=n("VU/8"),Et=s,$t=Ct(wt,kt,!1,Et,"data-v-0f42de80",null),Nt=$t.exports,St={created:function(){!("home"===this.$route.name)&&this.$store.getters.isNewUser&&this.$router.push({name:"home"})}},Ot={name:"data-groups",mixins:[St],components:{BtnAddDataGroup:bt,DataGroup:dt,DataGroupList:Nt},computed:H()({},Object(E.c)({haveDataGroups:function(t){return t.active.project.dataGroups.length>0},addingDataGroup:function(t){return t.ui.dataGroup.adding},editingDataGroup:function(t){return t.ui.dataGroup.editing}}))},Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[n("el-tag",{attrs:{type:"warning"}},[t._v("Coming soon...")]),t._v(" "),t._e()],1)},Tt=[],Mt={render:Gt,staticRenderFns:Tt},Dt=Mt,Ut=n("VU/8"),Rt=c,At=Ut(Ot,Dt,!1,Rt,"data-v-3b065e49",null),It=At.exports,Jt={data:function(){return{userType:"",actionType:"",action:"",determiner:"",dataGroup:""}}},qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",[n("el-row",[t._v("\n    As a\n    "),n("el-select",{attrs:{placeholder:"user"},model:{value:t.userType,callback:function(e){t.userType=e},expression:"userType"}},[n("el-option",{attrs:{value:"user"}},[t._v("user")])],1),t._v("\n    I\n    "),n("el-select",{attrs:{placeholder:"can"},model:{value:t.actionType,callback:function(e){t.actionType=e},expression:"actionType"}},[n("el-option",{attrs:{value:"can"}},[t._v("can")])],1),t._v(" "),n("el-select",{attrs:{placeholder:"delete"},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}},[n("el-option",{attrs:{value:"delete"}},[t._v("delete")])],1),t._v(" "),n("el-select",{attrs:{"allow-create":"",placeholder:"a"},model:{value:t.determiner,callback:function(e){t.determiner=e},expression:"determiner"}},[n("el-option",{attrs:{value:"a"}},[t._v("a")])],1),t._v(" "),n("el-select",{attrs:{placeholder:"books"},model:{value:t.dataGroup,callback:function(e){t.dataGroup=e},expression:"dataGroup"}},[n("el-option",{attrs:{value:"book"}},[t._v("book")])],1)],1)],1)},Ft=[],zt={render:qt,staticRenderFns:Ft},Vt=zt,Bt=n("VU/8"),Lt=l,Ht=Bt(Jt,Vt,!1,Lt,"data-v-4e69aa2e",null),Wt=Ht.exports,Yt={name:"user-stories",mixins:[St],components:{UserStory:Wt}},Xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[n("el-tag",{attrs:{type:"warning"}},[t._v("Coming soon...")]),t._v(" "),t._e()],1)},Qt=[],Kt={render:Xt,staticRenderFns:Qt},Zt=Kt,te=n("VU/8"),ee=te(Yt,Zt,!1,null,null,null),ne=ee.exports,ae={name:"user-journeys",mixins:[St]},oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[n("el-tag",{attrs:{type:"warning"}},[t._v("Coming soon...")])],1)},ie=[],re={render:oe,staticRenderFns:ie},se=re,ce=n("VU/8"),le=ce(ae,se,!1,null,null,null),ue=le.exports,de={name:"page-not-found"},pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[n("h4",[t._v("Oops!")]),t._v(" "),n("p",[t._v("Page not found")]),t._v(" "),n("router-link",{attrs:{to:{name:"home"}}},[t._v("Go back to home")])],1)},me=[],he={render:pe,staticRenderFns:me},fe=he,ve=n("VU/8"),_e=u,je=ve(de,fe,!1,_e,"data-v-44483c5a",null),ge=je.exports;v.default.use(z.a);var be=new z.a({routes:[{path:"/",name:"home",component:nt},{path:"/data",name:"dataGroups",component:It},{path:"/stories",name:"userStories",component:ne},{path:"/journey",name:"userJourneys",component:ue},{path:"*",name:"PageNotFound",component:ge}]}),we=n("zL8q"),ye=n.n(we),Pe=(n("tvR6"),n("D4uH"));n("D/PP");v.default.use(ye.a),v.default.component("icon",Pe.a),v.default.filter("capitalise",function(t){return"string"!=typeof t?void console.error("Filter 'capitalise': String not provided, please provide string"):t.charAt(0).toUpperCase()+t.slice(1)});var xe=(n("2lMp"),{name:"modal-add-project",data:function(){return{mode:"add",name:"",typing:!1}},computed:H()({},Object(E.c)(["active","template"]),Object(E.b)(["projectNames"]),{showModal:function(){return"addProject"===this.active.modal},validationChecks:function(){return{hasName:""!==this.name,isTyping:this.typing,nameIsUnique:!this.projectNames.includes(this.name)}},errors:function(){var t=[],e=this.validationChecks;return e.isTyping&&(e.hasName||t.push({text:"Your project name cannot be blank",type:"warning"}),e.nameIsUnique||t.push({text:"Project name already exists",type:"danger"})),t},validated:function(){return!B()(this.validationChecks).includes(!1)}}),methods:{addProject:function(){var t=this;this.validated&&this.$store.dispatch("ADD_PROJECT",{name:this.name}).then(function(){t.closeModal()})},closeModal:function(){this.$store.commit("closeModal")}}}),ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"add project",visible:t.showModal,width:"300px","close-on-click-modal":!1},on:{"update:visible":function(e){t.showModal=e},close:function(e){t.closeModal()}}},[n("section",{staticClass:"section"},[n("el-input",{class:{"has-errors":!t.validated&&t.typing},attrs:{type:"text"},nativeOn:{"~keydown":function(e){t.typing=!0}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),n("p",{staticClass:"errors"},t._l(t.errors,function(e,a){return n("el-tag",{key:a,attrs:{type:e.type}},[t._v(t._s(e.text))])}))],1),t._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"U--full-width",attrs:{plain:"",type:"success",disabled:!t.validated},on:{click:t.addProject}},[t._v("Add project")])],1)])},Ce=[],Ee={render:ke,staticRenderFns:Ce},$e=Ee,Ne=n("VU/8"),Se=d,Oe=Ne(xe,$e,!1,Se,"data-v-62cbe715",null),Ge=Oe.exports,Te={name:"modal-switch-project",created:function(){this.selectedProjectId=this.active.project.id},data:function(){return{mode:"switch",selectedProjectId:""}},computed:H()({},Object(E.c)(["active","projects"]),Object(E.b)(["projectMap"]),{showModal:function(){return"switchProject"===this.active.modal},validated:function(){return this.selectedProjectId!==this.active.project.id}}),methods:{switchProject:function(){var t=this.projects[this.selectedProjectId];this.$store.commit("setProjectData",t),this.closeModal()},closeModal:function(){this.$store.commit("closeModal")}}},Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"switch project",visible:t.showModal,width:"300px","close-on-click-modal":!1},on:{"update:visible":function(e){t.showModal=e},close:function(e){t.closeModal()}}},[n("section",{staticClass:"section"},[n("el-select",{model:{value:t.selectedProjectId,callback:function(e){t.selectedProjectId=e},expression:"selectedProjectId"}},t._l(t.projectMap,function(e,a){return n("el-option",{key:a,attrs:{label:e,value:a,hidden:a===t.selectedProjectId}})}))],1),t._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"U--full-width",attrs:{plain:"",type:"success",disabled:!t.validated},on:{click:t.switchProject}},[t._v("Switch project")])],1)])},De=[],Ue={render:Me,staticRenderFns:De},Re=Ue,Ae=n("VU/8"),Ie=p,Je=Ae(Te,Re,!1,Ie,"data-v-d13bb334",null),qe=Je.exports,Fe={name:"modal-rename-project",created:function(){this.name={original:this.active.project.name,new:this.active.project.name}},beforeDestroy:function(){this.name=null},data:function(){return{mode:"rename",name:null}},computed:H()({},Object(E.c)(["active"]),Object(E.b)(["projectNames"]),{showModal:function(){return"renameProject"===this.active.modal},validationChecks:function(){return{hasName:""!==this.name.new,renamed:this.name.new!==this.name.original,nameIsUnique:!this.projectNames.includes(this.name.new)}},errors:function(){var t=[],e=this.validationChecks;return e.renamed&&(e.hasName||t.push({text:"Your project name cannot be blank",type:"warning"}),e.nameIsUnique||t.push({text:"Project name already exists",type:"danger"})),t},validated:function(){return!B()(this.validationChecks).includes(!1)}}),methods:{closeModal:function(){this.$store.commit("closeModal")},renameProject:function(){var t=this;this.validated&&this.$store.dispatch("RENAME_PROJECT",{name:this.name.new}).then(function(){t.closeModal()})}}},ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"rename project",visible:t.showModal,width:"300px","close-on-click-modal":!1},on:{"update:visible":function(e){t.showModal=e},close:function(e){t.closeModal()}}},[n("section",{staticClass:"section"},[n("el-input",{class:{"has-errors":!t.validated&&t.validationChecks.renamed},attrs:{type:"text"},model:{value:t.name.new,callback:function(e){t.$set(t.name,"new",e)},expression:"name.new"}}),t._v(" "),n("p",{staticClass:"errors"},t._l(t.errors,function(e,a){return n("el-tag",{key:a,attrs:{type:e.type}},[t._v(t._s(e.text))])}))],1),t._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"U--full-width",attrs:{plain:"",type:"success",disabled:!t.validated},on:{click:t.renameProject}},[t._v("Save")])],1)])},Ve=[],Be={render:ze,staticRenderFns:Ve},Le=Be,He=n("VU/8"),We=m,Ye=He(Fe,Le,!1,We,"data-v-18518704",null),Xe=Ye.exports,Qe={name:"project-bar",components:{ModalAddProject:Ge,ModalSwitchProject:qe,ModalRenameProject:Xe},data:function(){return{options:{mode:null,show:!1}}},computed:H()({},Object(E.c)(["active","projects"]),Object(E.b)(["hasMultipleProjects","projectNames","modalShowing"]),{showOptions:function(){return null!==this.options.mode}}),methods:{openModal:function(t){this.$store.commit("openModal",t)},deleteProject:function(){var t=this;this.$confirm("Are you sure you want to delete this project?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",center:!0}).then(function(){t.$store.dispatch("DELETE_PROJECT",{id:t.active.project.id})})},deleteAllProjects:function(){var t=this;this.$confirm("Are you sure you want to delete all of your projects?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",center:!0}).then(function(){t.$store.dispatch("DELETE_ALL_PROJECTS"),t.$router.push({name:"home"})}).catch(function(){})},renameProject:function(){var t=this,e=this.active.project.name;this.$store.dispatch("RENAME_PROJECT",{name:this.options.newName}).then(function(){t.closeOptions(),t.$message({message:"Renamed "+e+" to "+t.options.newName,type:"success"})})},switchProject:function(){},addProject:function(){},modeIs:function(t){return t===this.options.mode}}},Ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"project-bar"},[n("h4",{staticClass:"project-name"},[t._v(t._s(t.active.project.name))]),t._v(" "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:options",arg:"options"}],staticClass:"icon--info",attrs:{type:"info",plain:"",icon:"el-icon-more",circle:"",size:"mini"}}),t._v(" "),n("el-popover",{ref:"options",attrs:{trigger:"hover",placement:"bottom-end","visible-arrow":!1,"popper-class":"options"}},[n("el-menu",[n("el-menu-item-group",{attrs:{title:"Project options"}},[n("el-menu-item",{attrs:{index:"rename_project"},on:{click:function(e){t.openModal("renameProject")}}},[t._v("Rename "),n("icon",{attrs:{name:"pencil-alt"}})],1),t._v(" "),t.hasMultipleProjects?n("el-menu-item",{attrs:{index:"switch_project"},on:{click:function(e){t.openModal("switchProject")}}},[t._v("Switch "),n("icon",{attrs:{name:"sign-in-alt"}})],1):t._e(),t._v(" "),n("el-menu-item",{staticClass:"danger",attrs:{index:"delete_project"},on:{click:function(e){t.deleteProject()}}},[t._v("Delete "),n("icon",{attrs:{name:"trash-alt"}})],1)],1),t._v(" "),n("el-menu-item-group",{attrs:{title:"App options"}},[n("el-menu-item",{staticClass:"success",attrs:{index:"add_project"},on:{click:function(e){t.openModal("addProject")}}},[t._v("Add new project "),n("icon",{attrs:{name:"plus"}})],1),t._v(" "),n("el-menu-item",{staticClass:"danger",attrs:{index:"delete_all_projects"},on:{click:function(e){t.deleteAllProjects()}}},[t._v("Delete all projects "),n("icon",{attrs:{name:"trash-alt"}})],1)],1)],1)],1),t._v(" "),t.modalShowing.addProject?n("modal-add-project"):t._e(),t._v(" "),t.modalShowing.switchProject?n("modal-switch-project"):t._e(),t._v(" "),t.modalShowing.renameProject?n("modal-rename-project"):t._e()],1)},Ze=[],tn={render:Ke,staticRenderFns:Ze},en=tn,nn=n("VU/8"),an=h,on=nn(Qe,en,!1,an,"data-v-23477110",null),rn=on.exports,sn={name:"main-layout",components:{ProjectBar:rn},data:function(){return{tabs:[{name:"dataGroups",label:"Data Groups"},{name:"userStories",label:"User Stories"},{name:"userJourneys",label:"User Journeys"}]}},methods:{handleTabClick:function(t){this.$store.commit("setActiveTab",{tabName:t}),this.$router.push({name:t})},tabIsActive:function(t){return t===this.active.tab}},computed:H()({},Object(E.b)(["isNewUser","isReturningUser","breakpointIs"]),Object(E.c)(["active","breakpoint"]),{thisYear:function(){return(new Date).getFullYear()},title:function(){return"User Story Builder"}})},cn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"main-layout"},[n("el-header",[n("router-link",{staticClass:"title",attrs:{tag:"p",to:"/"}},[t.breakpointIs("xs")?n("icon",{attrs:{name:"home",scale:"1.5"}}):[t._v(t._s(t.title))]],2),t._v(" "),n("span",{class:"breakpoint--"+t.breakpoint},[t._v(t._s(t.breakpoint))]),t._v(" "),t.isReturningUser?n("project-bar"):t._e()],1),t._v(" "),n("el-main",[t.isReturningUser?[n("div",{staticClass:"button-bar"},t._l(t.tabs,function(e){return n("button",{key:e.name,class:["button-bar__button",{active:t.tabIsActive(e.name)}],on:{click:function(n){t.handleTabClick(e.name)}}},[t._v("\n          "+t._s(e.label)+"\n        ")])})),t._v(" "),t._t("default")]:t._e(),t._v(" "),t.isNewUser?[n("h1",[t._v("Welcome!")]),t._v(" "),t._t("default")]:t._e()],2),t._v(" "),n("el-footer",[t._v("EmilyRosina © "+t._s(t.thisYear))])],1)},ln=[],un={render:cn,staticRenderFns:ln},dn=un;[n("VU/8")(sn,dn,!1,f,"data-v-10b816a8",null).exports].forEach(function(t){v.default.component(t.name,t)}),v.default.config.devtools=!0,v.default.config.productionTip=!1,new v.default({el:"#app",router:be,store:F,template:"<App/>",components:{App:C}})},NJDl:function(t,e){},Nb12:function(t,e){},QsjU:function(t,e){},WaCb:function(t,e){},XTbq:function(t,e){},XqoT:function(t,e){},cs9i:function(t,e){},eyH3:function(t,e){},ihmE:function(t,e){},indq:function(t,e){},jzD6:function(t,e){},qsfc:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.947cb16f556d980fd3e7.js.map