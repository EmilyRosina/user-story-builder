webpackJsonp([1],{"+Jci":function(t,e){},"0DfI":function(t,e){},"2lMp":function(t,e){},"5AqT":function(t,e){},"6SIU":function(t,e){},"7Yi0":function(t,e){},D4uH:function(t,e,n){"use strict";function o(){return"fa-"+(s++).toString(16)}function a(t){n("5AqT")}var r={},i={name:"icon",props:{name:{type:String,validator:function(t){return t?t in r||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+t+'".\nPlease make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?r[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,n=t.height;return Math.max(e,n)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(t,n,a){var r=o();return e[a]=r,' id="'+r+'"'}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(t,n,o,a){var r=n||a;return r&&e[r]?"#"+e[r]:t}),t}},mounted:function(){var t=this;if(!this.icon){this.$children.forEach(function(e){e.outerScale=t.normalizedScale});var e=0,n=0;this.$children.forEach(function(t){e=Math.max(e,t.width),n=Math.max(n,t.height)}),this.childrenWidth=e,this.childrenHeight=n,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(n-t.height)/2})}},register:function(t){for(var e in t){var n=t[e];n.paths||(n.paths=[]),n.d&&n.paths.push({d:n.d}),n.polygons||(n.polygons=[]),n.points&&n.polygons.push({points:n.points}),r[e]=n}},icons:r},s=870711,c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{class:t.klass,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e,o){return n("path",t._b({key:"path-"+o},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e,o){return n("polygon",t._b({key:"polygon-"+o},"polygon",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.raw?[n("g",{domProps:{innerHTML:t._s(t.raw)}})]:t._e()])],2)},l=[],u={render:c,staticRenderFns:l},p=u,d=n("VU/8"),m=a,h=d(i,p,!1,m,null,null);e.a=h.exports},"F/cJ":function(t,e){},Ivn1:function(t,e){},NHnr:function(t,e,n){"use strict";function o(t){n("0DfI")}function a(t){n("j6+r")}function r(t){n("+Jci")}function i(t){n("a2ga")}function s(t){n("f56T")}function c(t){n("7Yi0")}function l(t){n("6SIU")}function u(t){n("Ivn1")}function p(t){n("NJDl")}function d(t){n("XqoT")}function m(t){n("p2+p")}function h(t){n("t4tR")}function f(t){n("F/cJ")}function v(t){n("tNiN")}function g(t){n("YKQe")}Object.defineProperty(e,"__esModule",{value:!0});var _=n("7+uW"),j=n("Dd8w"),y=n.n(j),b={breakpoints:{xs:{min:0,max:767},sm:{min:768,max:991},md:{min:992,max:1199},lg:{min:1200,max:1920},xl:{min:1921,max:1/0}},breakpoint:function(t){function e(t,e){return e>=n[t].min&&e<=n[t].max}var n=this.breakpoints;return e("xs",t)?"xs":e("sm",t)?"sm":e("md",t)?"md":e("lg",t)?"lg":e("xl",t)?"xl":void 0}},w=n("NYxO"),P={name:"app",created:function(){var t=this;if(this.$store.commit("setBreakpoint",b.breakpoint(window.innerWidth)),window.addEventListener("resize",function(){var e=b.breakpoint(window.innerWidth);t.breakpointIs(e)||t.$store.commit("setBreakpoint",e)}),this.$store.dispatch("GET_PROJECTS"),this.isReturningUser)if(this.hasMultipleProjects){var e=this.projectIds[0];this.$store.commit("setActiveProjectId",e),this.$store.dispatch("GET_PROJECT_DATA",{id:e})}else this.$store.commit("setActiveProjectId",this.projectIds[0])},computed:y()({},Object(w.c)(["isReturningUser","breakpointIs","projectIds","hasMultipleProjects"]))},k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},x=[],C={render:k,staticRenderFns:x},G=C,N=n("VU/8"),T=o,U=N(P,G,!1,T,null,null),A=U.exports,S={active:{modal:"",tab:"",projectId:"",dataGroupId:""},projects:{},breakpoint:""},E=n("fZjL"),I=n.n(E),O={name:"",dataGroups:{},userStories:{},userJourneys:{}},D={project:O},M={devMode:function(){return!1},isNewUser:function(t){return 0===I()(t.projects).length},isReturningUser:function(t,e){return!e.isNewUser},regex:function(){return{isProject:/^proj_/}},hasMultipleProjects:function(t,e){return I()(t.projects).length>1},dataGroup:function(t,e){return t.active.dataGroupId?e.project.dataGroups[t.active.dataGroupId]:null},project:function(t){return t.projects[t.active.projectId]},projectIds:function(t){return I()(t.projects)},projectNames:function(t,e){return e.projectIds.map(function(e){return t.projects[e].name})},projectMap:function(t,e){var n={};return e.projectIds.map(function(e){n[e]=t.projects[e].name}),n},template:function(){return D},modalShowing:function(t){var e=function(e){return t.active.modal===e};return{addProject:e("addProject"),switchProject:e("switchProject"),renameProject:e("renameProject"),addDataGroup:e("addDataGroup"),editDataGroup:e("editDataGroup")}},breakpointIs:function(t){return function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return n.includes(t.breakpoint)}}},R=n("//Fk"),$=n.n(R),q=n("woOf"),J=n.n(q),F=n("zL8q"),L=n.n(F),H=n("/ocq"),V=n("gRE1"),z=n.n(V),B={name:"home",data:function(){return{newProjectName:"",typing:!1}},mounted:function(){this.$store.commit("setActiveTab","home")},computed:y()({},Object(w.c)(["projectNames","isNewUser","isReturningUser","template"]),Object(w.e)(["projects"]),{validationChecks:function(){return{hasName:""!==this.newProjectName,nameIsUnique:!z()(this.projects).includes(this.newProjectName),typing:this.typing}},errors:function(){var t=[],e=this.validationChecks;return e.typing&&(e.hasName||t.push({text:"You need to enter a name for your project to continue",type:"warning"}),e.nameIsUnique||t.push({text:"Project name already exists",type:"danger"})),t},validated:function(){return!z()(this.validationChecks).includes(!1)}}),methods:{addProject:function(){this.$store.dispatch("ADD_PROJECT",{name:this.newProjectName}),this.reset()},reset:function(){this.newProjectName="",this.typing=!1}}},W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",{staticClass:"home"},[n("el-row",[t.isReturningUser?n("el-col",[n("el-tag",{attrs:{type:"warning"}},[t._v("Dashboard coming soon...")])],1):t._e(),t._v(" "),t.isNewUser?n("el-col",{staticClass:"setup",attrs:{sm:10,md:8}},[n("h3",[t._v("To get started, simply choose a name for your first project:")]),t._v(" "),n("div",{staticClass:"add-new-project"},[n("el-input",{staticClass:"project-name__input",on:{blur:function(e){t.typing=!0}},nativeOn:{"~keydown":function(e){t.typing=!0}},model:{value:t.newProjectName,callback:function(e){t.newProjectName=e},expression:"newProjectName"}}),t._v(" "),n("p",{staticClass:"project-name__errors"},t._l(t.errors,function(e,o){return n("el-tag",{key:o,attrs:{type:e.type,size:"mini"}},[t._v(t._s(e.text))])})),t._v(" "),n("el-button",{attrs:{type:"warning",disabled:!t.validated},on:{click:t.addProject}},[t._v("Create")])],1)]):t._e()],1)],1)},Y=[],K={render:W,staticRenderFns:Y},Q=K,X=n("VU/8"),Z=a,tt=X(B,Q,!1,Z,"data-v-46ebf264",null),et=tt.exports,nt={name:"btn-add-data-group",methods:y()({},Object(w.d)(["openModal"]))},ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",{staticClass:"U--margin-auto U--unset-float",attrs:{lg:6,md:8,sm:10}},[n("el-button",{staticClass:"U--full-width",attrs:{type:"warning",plain:""},nativeOn:{click:function(e){t.openModal("addDataGroup")}}},[t._v("Add Data Group")])],1)},at=[],rt={render:ot,staticRenderFns:at},it=rt,st=n("VU/8"),ct=r,lt=st(nt,it,!1,ct,"data-v-02f511b0",null),ut=lt.exports,pt={created:function(){!("home"===this.$route.name)&&this.$store.getters.isNewUser&&this.$router.push({name:"home"})}},dt={methods:{closeModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(t=t.charAt(0).toUpperCase()+t.slice(1),this.$store.commit("setActive"+t,"")),this.$store.commit("closeModal")}}},mt={name:"modal-edit-data-group",mixins:[dt],data:function(){return{id:this.dataGroup.id,name:this.dataGroup.name,properties:this.dataGroup.properties}},methods:y()({},Object(w.b)(["SET_PROJECT_DATA"]),{startTyping:function(t){delete this.properties[t].new},addProperty:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=Date.now();this.properties[e]={key:e,value:t,new:!0}},removeProperty:function(t){delete this.properties[t]},saveDataGroup:function(){this.$message({message:"save this shit"})}}),computed:y()({},Object(w.e)(["active"]),Object(w.c)(["project","dataGroup","breakpointIs"]),{showModal:function(){return"editDataGroup"===this.active.modal},modalWidth:function(){return this.breakpointIs("xs")?"90%":"500px"},nonUniqueProperties:function(){var t={};return this.properties.forEach(function(e){t[e.value]?t[e.value]="not unique":t[e.value]="unique"}),I()(t).forEach(function(e){"unique"!==t[e]&&""!==e||delete t[e]}),I()(t)},validationChecks:function(){var t=this;return{hasName:""!==this.name,nameIsUnique:!this.project.dataGroups.filter(function(e){return e.id!==t.id}).map(function(t){return t.name}).includes(this.name),allPropertiesHaveNames:!this.properties.map(function(t){return t.value}).includes(""),propertiesHaveNames:!this.properties.filter(function(t){return!t.new}).map(function(t){return t.value}).includes(""),propertyNamesAreUnique:!this.nonUniqueProperties.length>0,hasChanges:{orig:this.project.dataGroups[this.index],new:this.updatedDataGroup,result:this.updatedDataGroup===this.project.dataGroups[this.index]}}},errors:function(){var t=[[],[],[]],e=t[0],n=t[1],o=this.validationChecks;return o.hasName||e.push("You must supply a name"),o.nameIsUnique||e.push("Name already exists"),o.propertiesHaveNames||n.push("All properties must be named"),o.propertyNamesAreUnique||n.push("Properties ["+this.nonUniqueProperties.join("] [")+"] are not unique"),{name:e,properties:n}},validated:function(){return!z()(this.validationChecks).includes(!1)},hasProperties:function(){return this.properties.length>0},propertyNames:function(){return this.properties.map(function(t){return t.value})}})},ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{staticClass:"add-data-group",attrs:{title:"edit data group",visible:t.showModal,width:t.modalWidth,"close-on-click-modal":!1},on:{close:function(e){t.closeModal()}}},[n("span",[n("el-row",{staticClass:"section",attrs:{type:"flex"}},[n("el-col",[n("span",{staticClass:"subtitle required"},[t._v("Name")]),t._v(" "),n("el-row",{attrs:{type:"flex"}},[n("el-input",{staticClass:"centered",model:{value:t.name,callback:function(e){t.name="string"==typeof e?e.trim():e},expression:"name"}})],1),t._v(" "),t._l(t.errors.name,function(e,o){return n("el-tag",{key:"name_error_"+o,attrs:{type:"danger"}},[t._v(t._s(e))])})],2)],1),t._v(" "),n("el-row",{staticClass:"section"},[n("el-col",[t.hasProperties?n("span",{staticClass:"subtitle"},[t._v("Properties")]):t._e(),t._v(" "),t.hasProperties?t._l(t.properties,function(e,o){return n("el-row",{key:e.key,staticClass:"no-gutter",attrs:{type:"flex"}},[e.new?n("icon",{staticStyle:{color:"yellowgreen",position:"absolute","z-index":"100",left:"-5px",top:"-2px"},attrs:{name:"leaf"}}):t._e(),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.value,expression:"property.value",modifiers:{trim:!0}}],class:["property-input","el-input",{"has-errors":!t.validationChecks.nameIsUnique||!t.validationChecks.hasName}],attrs:{placeholder:""},domProps:{value:e.value},on:{input:function(n){n.target.composing||t.$set(e,"value",n.target.value.trim())},blur:function(e){t.$forceUpdate()}},nativeOn:{"~keydown":function(n){t.startTyping(e.key)}}}),t._v(" "),n("el-button-group",{staticClass:"joint-input"},[n("el-button",{staticClass:"remove",attrs:{type:"warning",plain:""},on:{click:function(e){t.removeProperty(o)}}},[n("icon",{attrs:{name:"minus",scale:"0.75"}})],1),t._v(" "),n("el-button",{staticClass:"add",attrs:{type:"warning",plain:"",disabled:""===e},on:{click:function(e){t.addProperty()}}},[n("icon",{attrs:{name:"plus",scale:"0.75"}})],1)],1)],1)}):[n("el-row",{staticClass:"no-gutter",attrs:{type:"flex"}},[n("el-button",{staticClass:"U--full-width",attrs:{type:"warning",plain:""},nativeOn:{click:function(e){t.addProperty()}}},[t._v("Add Property")])],1)],t._v(" "),t._l(t.errors.properties,function(e,o){return n("el-tag",{key:"property_error_"+o,attrs:{type:"danger"}},[t._v(t._s(e))])})],2)],1)],1),t._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"U--full-width",attrs:{plain:"",type:"success",disabled:!t.validated},on:{click:t.saveDataGroup}},[t._v("Save changes")])],1)])},ft=[],vt={render:ht,staticRenderFns:ft},gt=vt,_t=n("VU/8"),jt=i,yt=_t(mt,gt,!1,jt,"data-v-41d9777a",null),bt=yt.exports,wt={name:"data-group",props:{dataGroup:{type:Object,required:!0}},components:{ModalEditDataGroup:bt},data:function(){return{showOptions:!1,selected:null}},computed:y()({},Object(w.e)(["active"]),Object(w.c)(["project","modalShowing"]),{propertyLengthText:function(){return 0===this.propertiesLength?"No properties":1===this.propertiesLength?"1 property":this.propertiesLength+" properties"},tagType:function(){return 0===this.propertiesLength?"info":"warning"},propertiesLength:function(){return I()(this.dataGroup.properties).length}}),methods:{openOptions:function(){this.showOptions=!0},closeOptions:function(){this.showOptions=!1,this.selected=null},ifSelected:function(t){return{active:this.selected===t}},editDataGroup:function(){this.closeOptions(),this.$store.commit("setActiveDataGroupId",this.dataGroup.id),this.$store.commit("openModal","editDataGroup")},deleteDataGroup:function(){if("delete"!==this.selected)this.selected="delete";else{var t=J()({},this.project.dataGroups);delete t[this.dataGroup.id];var e=J()({},this.project,{dataGroups:t});this.closeOptions(),this.$store.dispatch("SET_PROJECT_DATA",e),this.$message({message:"Deleted dataGroup "+this.dataGroup.name,type:"success"})}}}},Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"data-group"},[n("el-row",{attrs:{type:"flex",align:"middle"},nativeOn:{click:function(e){t.openOptions()}}},[n("h2",{staticClass:"data-group__name"},[t._v(t._s(t.dataGroup.name))]),t._v(" "),n("el-tag",{staticClass:"data-group__property-length",attrs:{type:t.tagType,size:"mini"}},[t._v(t._s(t.propertyLengthText))]),t._v(" "),n("div",{staticClass:"data-group__property-list"},t._l(t.dataGroup.properties,function(e){return n("span",{key:e.key,staticClass:"property"},[t._v(t._s(e.value))])}))],1),t._v(" "),t.showOptions?n("div",{staticClass:"overlay",on:{click:t.closeOptions}}):t._e(),t._v(" "),t.showOptions?n("el-row",{staticClass:"options-overlay",attrs:{type:"flex",align:"middle"}},[n("div",{class:["options-overlay__edit",t.ifSelected("edit")],on:{click:function(e){t.editDataGroup()}}},[t._v("Edit")]),t._v(" "),n("div",{class:["options-overlay__delete",t.ifSelected("delete")],on:{click:function(e){t.deleteDataGroup()}}},[t._v(t._s("delete"===t.selected?"Are you sure?":"Delete"))])]):t._e(),t._v(" "),t.modalShowing.editDataGroup&&t.dataGroup.id===t.active.dataGroupId?n("modal-edit-data-group",{attrs:{dataGroupData:t.dataGroup}}):t._e()],1)},kt=[],xt={render:Pt,staticRenderFns:kt},Ct=xt,Gt=n("VU/8"),Nt=s,Tt=Gt(wt,Ct,!1,Nt,"data-v-f5686d60",null),Ut=Tt.exports,At={name:"data-group-list",components:{DataGroup:Ut},computed:y()({},Object(w.c)(["project"]),{dataGroups:function(){return this.project.dataGroups}})},St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",[n("el-row",{attrs:{gutter:20,"no-gutters":""}},t._l(t.dataGroups,function(t,e){return n("el-col",{key:e,attrs:{sm:12,lg:8}},[n("data-group",{attrs:{dataGroup:t}})],1)}))],1)},Et=[],It={render:St,staticRenderFns:Et},Ot=It,Dt=n("VU/8"),Mt=c,Rt=Dt(At,Ot,!1,Mt,"data-v-7172d4b3",null),$t=Rt.exports,qt={name:"modal-add-data-group",mixins:[dt],data:function(){return{id:"",name:"",properties:{},typing:!1}},created:function(){this.id=Date.now()},methods:y()({},Object(w.b)(["SET_PROJECT_DATA"]),{hasNoName:function(t){return!t.new&&""===t.value},startTyping:function(t){delete this.properties[t].new},isUnique:function(t){return""===t||!this.nonUniqueProperties.includes(t)},addProperty:function(){var t=Date.now();this.$set(this.properties,t,{id:t,value:"",new:!0})},removeProperty:function(t){delete this.properties[t]},addDataGroup:function(){var t=J()({},this.project.dataGroups);t[this.id]={id:this.id,name:this.name,properties:this.properties};var e=J()({},this.project,{dataGroups:t});this.SET_PROJECT_DATA(e),this.closeModal()}}),computed:y()({},Object(w.e)(["active"]),Object(w.c)(["project","breakpointIs"]),{showModal:function(){return"addDataGroup"===this.active.modal},modalWidth:function(){return this.breakpointIs("xs")?"90%":"500px"},nonUniqueProperties:function(){var t=this,e={};return I()(this.properties).forEach(function(n){e[t.properties[n].value]?e[t.properties[n].value]="not unique":e[t.properties[n].value]="unique"}),I()(e).forEach(function(t){"unique"!==e[t]&&""!==t||delete e[t]}),I()(e)},validationChecks:function(){var t=this;return{hasName:""!==this.name,typing:!0===this.typing,propertyNamesAreUnique:!this.nonUniqueProperties.length>0,nameIsUnique:!I()(this.project.dataGroups).map(function(e){return t.project.dataGroups[e].name}).includes(this.name),allPropertiesHaveNames:!this.project.dataGroups.properties||!z()(this.project.dataGroups.properties).includes(""),propertiesHaveNames:!this.project.dataGroups.properties||!I()(this.project.dataGroups.properties).includes("")}},errors:function(){var t=[[],[],[]],e=t[0],n=t[1],o=this.validationChecks;return o.typing&&(o.hasName||e.push("You must supply a name"),o.nameIsUnique||e.push("Name already exists"),o.propertiesHaveNames||n.push("All properties must be named"),o.propertyNamesAreUnique||n.push("Properties ["+this.nonUniqueProperties.join("] [")+"] are not unique")),{name:e,properties:n}},validated:function(){return!z()(this.validationChecks).includes(!1)},hasProperties:function(){return this.propertyNames.length>0},propertyNames:function(){var t=this;return I()(this.properties).map(function(e){return t.properties[e].value})}})},Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{staticClass:"add-data-group",attrs:{title:"add data group",visible:t.showModal,width:t.modalWidth,"close-on-click-modal":!1},on:{close:function(e){t.closeModal()}}},[n("span",[n("el-row",{staticClass:"section",attrs:{type:"flex"}},[n("el-col",[n("span",{staticClass:"subtitle required"},[t._v("Name")]),t._v(" "),n("el-row",{attrs:{type:"flex"}},[n("el-input",{staticClass:"centered",nativeOn:{"~keydown":function(e){t.typing=!0},"~blur":function(e){t.typing=!0}},model:{value:t.name,callback:function(e){t.name="string"==typeof e?e.trim():e},expression:"name"}})],1),t._v(" "),t._l(t.errors.name,function(e,o){return n("el-tag",{key:"name_error_"+o,attrs:{type:"danger"}},[t._v(t._s(e))])})],2)],1),t._v(" "),n("el-row",{staticClass:"section"},[n("el-col",[t.hasProperties?n("span",{staticClass:"subtitle"},[t._v("Properties")]):t._e(),t._v(" "),t.hasProperties?t._l(t.properties,function(e,o){return n("el-row",{key:o,staticClass:"no-gutter",attrs:{type:"flex"}},[e.new?n("icon",{staticStyle:{color:"yellowgreen",position:"absolute","z-index":"100",left:"-5px",top:"-2px"},attrs:{name:"leaf"}}):t._e(),t._v(" "),n("el-input",{class:["property-input",{"has-errors":!t.isUnique(e.value)||t.hasNoName(e)}],attrs:{placeholder:""},nativeOn:{"~keydown":function(e){t.startTyping(o)}},model:{value:e.value,callback:function(n){t.$set(e,"value","string"==typeof n?n.trim():n)},expression:"property.value"}}),t._v(" "),n("el-button-group",{staticClass:"joint-input"},[n("el-button",{staticClass:"remove",attrs:{type:"warning",plain:""},on:{click:function(e){t.removeProperty(o)}}},[n("icon",{attrs:{name:"minus",scale:"0.75"}})],1),t._v(" "),n("el-button",{staticClass:"add",attrs:{type:"warning",plain:"",disabled:""===e},on:{click:function(e){t.addProperty()}}},[n("icon",{attrs:{name:"plus",scale:"0.75"}})],1)],1)],1)}):[n("el-row",{staticClass:"no-gutter",attrs:{type:"flex"}},[n("el-button",{staticClass:"U--full-width",attrs:{type:"warning",plain:"",disabled:!t.typing},nativeOn:{click:function(e){t.addProperty()}}},[t._v("Add Property")])],1)],t._v(" "),t._l(t.errors.properties,function(e,o){return n("el-tag",{key:"property_error_"+o,attrs:{type:"danger"}},[t._v(t._s(e))])})],2)],1)],1),t._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"U--full-width",attrs:{plain:"",type:"success",disabled:!t.validated},on:{click:t.addDataGroup}},[t._v("Add data group")])],1)])},Ft=[],Lt={render:Jt,staticRenderFns:Ft},Ht=Lt,Vt=n("VU/8"),zt=l,Bt=Vt(qt,Ht,!1,zt,"data-v-67e0927c",null),Wt=Bt.exports,Yt={name:"data-groups",mixins:[pt],components:{BtnAddDataGroup:ut,DataGroupList:$t,ModalAddDataGroup:Wt},mounted:function(){this.$store.commit("setActiveTab","dataGroups")},computed:y()({},Object(w.c)(["modalShowing","project"]),{dataGroupsIsArray:function(){return!!this.project&&Array.isArray(this.project.dataGroups)},haveDataGroups:function(){return!!this.project&&I()(this.project.dataGroups).length>0}})},Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[t.dataGroupsIsArray?n("el-tag",{staticClass:"el-tag--text-wrap",attrs:{type:"danger"}},[t._v("Not using latest version of datagroups builder, please delete this project")]):t._e(),t._v(" "),t.modalShowing.addDataGroup?n("modal-add-data-group"):t._e(),t._v(" "),n("el-row",[n("btn-add-data-group")],1),t._v(" "),n("el-row",[t.haveDataGroups?n("data-group-list"):t._e()],1)],1)},Qt=[],Xt={render:Kt,staticRenderFns:Qt},Zt=Xt,te=n("VU/8"),ee=u,ne=te(Yt,Zt,!1,ee,"data-v-2f89ad42",null),oe=ne.exports,ae={data:function(){return{userType:"",actionType:"",action:"",determiner:"",dataGroup:""}}},re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",[n("el-row",[t._v("\n    As a\n    "),n("el-select",{attrs:{placeholder:"user"},model:{value:t.userType,callback:function(e){t.userType=e},expression:"userType"}},[n("el-option",{attrs:{value:"user"}},[t._v("user")])],1),t._v("\n    I\n    "),n("el-select",{attrs:{placeholder:"can"},model:{value:t.actionType,callback:function(e){t.actionType=e},expression:"actionType"}},[n("el-option",{attrs:{value:"can"}},[t._v("can")])],1),t._v(" "),n("el-select",{attrs:{placeholder:"delete"},model:{value:t.action,callback:function(e){t.action=e},expression:"action"}},[n("el-option",{attrs:{value:"delete"}},[t._v("delete")])],1),t._v(" "),n("el-select",{attrs:{"allow-create":"",placeholder:"a"},model:{value:t.determiner,callback:function(e){t.determiner=e},expression:"determiner"}},[n("el-option",{attrs:{value:"a"}},[t._v("a")])],1),t._v(" "),n("el-select",{attrs:{placeholder:"books"},model:{value:t.dataGroup,callback:function(e){t.dataGroup=e},expression:"dataGroup"}},[n("el-option",{attrs:{value:"book"}},[t._v("book")])],1)],1)],1)},ie=[],se={render:re,staticRenderFns:ie},ce=se,le=n("VU/8"),ue=p,pe=le(ae,ce,!1,ue,"data-v-4e69aa2e",null),de=pe.exports,me={name:"user-stories",mixins:[pt],components:{UserStory:de},mounted:function(){this.$store.commit("setActiveTab","userStories")}},he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[n("el-tag",{attrs:{type:"warning"}},[t._v("Coming soon...")]),t._v(" "),t._e()],1)},fe=[],ve={render:he,staticRenderFns:fe},ge=ve,_e=n("VU/8"),je=_e(me,ge,!1,null,null,null),ye=je.exports,be={name:"user-journeys",mixins:[pt],mounted:function(){this.$store.commit("setActiveTab","userJourneys")}},we=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[n("el-tag",{attrs:{type:"warning"}},[t._v("Coming soon...")])],1)},Pe=[],ke={render:we,staticRenderFns:Pe},xe=ke,Ce=n("VU/8"),Ge=Ce(be,xe,!1,null,null,null),Ne=Ge.exports,Te={name:"page-not-found"},Ue=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main-layout",[n("h4",[t._v("Oops!")]),t._v(" "),n("p",[t._v("Page not found")]),t._v(" "),n("router-link",{attrs:{to:{name:"home"}}},[t._v("Go back to home")])],1)},Ae=[],Se={render:Ue,staticRenderFns:Ae},Ee=Se,Ie=n("VU/8"),Oe=d,De=Ie(Te,Ee,!1,Oe,"data-v-44483c5a",null),Me=De.exports;_.default.use(H.a);var Re=new H.a({routes:[{path:"/",name:"home",component:et},{path:"/data",name:"dataGroups",component:oe},{path:"/stories",name:"userStories",component:ye},{path:"/journey",name:"userJourneys",component:Ne},{path:"*",name:"PageNotFound",component:Me}]}),$e={GET_PROJECTS:function(t){var e={};I()(localStorage).filter(function(e){return t.getters.regex.isProject.test(e)}).forEach(function(t){e[t]=J()(JSON.parse(localStorage[t]),{id:t})}),t.commit("setProjects",e)},GET_PROJECT_DATA:function(t,e){var n=JSON.parse(localStorage[e.id]);t.commit("updateProjectData",J()({},n))},SET_PROJECT_DATA:function(t,e){t.commit("localStorage__updateProject",e),t.commit("updateProjectData",e),e.id!==t.getters.project.id&&t.commit("setActiveProjectId",e.id)},ADD_PROJECT:function(t,e){var n="proj_"+Date.now(),o=e.name,a=J()({},t.getters.template.project,{name:o,id:n});return new $.a(function(e){t.commit("localStorage__addProject",a),localStorage[n]&&e()}).then(function(){return t.commit("addProject",J()({},a)),t.commit("setActiveProjectId",n),t.state.active.projectId===n}).then(function(e){e&&(F.Notification.success({title:"New project added",dangerouslyUseHTMLString:!0,message:"Successfully added project <b>"+o+"</b>",type:"success",showClose:!1,duration:3e3,position:"bottom-right"}),t.commit("closeModal"))})},RENAME_PROJECT:function(t,e){var n=t.getters.project.name;return new $.a(function(n){t.commit("localStorage__updateProject",e),JSON.parse(localStorage[e.id]).name===e.name&&n()}).then(function(){return t.commit("renameProject",e),e.name===t.getters.project.name}).then(function(o){o&&(t.commit("closeModal"),F.Notification.success({title:"Rename successful",message:"Successfully renamed <b>"+n+"</b> to <b>"+e.name+"</b>",dangerouslyUseHTMLString:!0,type:"success",showClose:!1,duration:3e3,position:"bottom-right"}))})},DELETE_PROJECT:function(t,e){var n=t.getters.projectMap[e];return new $.a(function(n){t.commit("localStorage__deleteProject",e),localStorage[e]||n()}).then(function(){return t.commit("deleteProject",e),!t.getters.projectIds.includes(e)}).then(function(e){if(e&&t.getters.isReturningUser){var n=t.getters.projectIds[0];return t.commit("setActiveProjectId",n),t.getters.projectId===n}if(e&&t.getters.isNewUser)return t.commit("setActiveProjectId",null),!0}).then(function(t){Re.push({name:"home"}),F.Notification.success({title:"Deletion successful",message:"Project <b>"+n+"</b> successfully deleted",dangerouslyUseHTMLString:!0,type:"success",showClose:!1,duration:3e3,position:"bottom-right"})})},DELETE_ALL_PROJECTS:function(t){return new $.a(function(e){t.getters.projectIds.forEach(function(e){t.commit("localStorage__deleteProject",e)}),0===I()(localStorage).filter(function(e){return t.getters.regex.isProject.test(e)}).length&&e()}).then(function(){return t.commit("deleteAllProjects"),0===t.getters.projectIds.length}).then(function(e){e&&(t.commit("setActiveProjectId",null),Re.push({name:"home"}),F.Notification.success({title:"Deletion successful",message:"All projects successfully deleted",type:"success",showClose:!1,duration:3e3,position:"bottom-right"}))})}},qe=n("mvHQ"),Je=n.n(qe),Fe={localStorage__addProject:function(t,e){localStorage[e.id]=Je()(e)},localStorage__updateProject:function(t,e){localStorage[e.id]=Je()(e)},localStorage__deleteProject:function(t,e){localStorage.removeItem(e)},setActiveDataGroupId:function(t,e){t.active.dataGroupId=e},setActiveProjectId:function(t,e){t.active.projectId=e},setActiveTab:function(t,e){t.active.tab=e},addProject:function(t,e){_.default.set(t.projects,e.id,e)},renameProject:function(t,e){t.projects[e.id].name=e.name},updateProjectData:function(t,e){t.projects[e.id]=e},setProjects:function(t,e){t.projects=e},deleteProject:function(t,e){_.default.delete(t.projects,e)},deleteAllProjects:function(t){t.projects={}},openModal:function(t,e){t.active.modal=e},closeModal:function(t){t.active.modal=null},setBreakpoint:function(t,e){t.breakpoint=e}};_.default.use(w.a);var Le=new w.a.Store({state:S,getters:M,actions:$e,mutations:Fe}),He=(n("tvR6"),n("D4uH"));n("D/PP");_.default.use(L.a),_.default.component("icon",He.a),_.default.filter("capitalise",function(t){return"string"!=typeof t?void console.error("Filter 'capitalise': String not provided, please provide string"):t.charAt(0).toUpperCase()+t.slice(1)});var Ve=(n("2lMp"),{name:"modal-add-project",mixins:[dt],data:function(){return{mode:"add",name:"",typing:!1}},computed:y()({},Object(w.e)(["active","template"]),Object(w.c)(["projectNames"]),{showModal:function(){return"addProject"===this.active.modal},validationChecks:function(){return{hasName:""!==this.name,isTyping:this.typing,nameIsUnique:!this.projectNames.includes(this.name)}},errors:function(){var t=[],e=this.validationChecks;return e.isTyping&&(e.hasName||t.push({text:"Your project name cannot be blank",type:"warning"}),e.nameIsUnique||t.push({text:"Project name already exists",type:"danger"})),t},validated:function(){return!z()(this.validationChecks).includes(!1)}}),methods:{addProject:function(){this.validated&&this.$store.dispatch("ADD_PROJECT",{name:this.name})}}}),ze=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"add project",visible:t.showModal,width:"300px","close-on-click-modal":!1},on:{close:function(e){t.closeModal()}}},[n("section",{staticClass:"section"},[n("el-input",{class:{"has-errors":!t.validated&&t.typing},attrs:{type:"text"},nativeOn:{"~keydown":function(e){t.typing=!0}},model:{value:t.name,callback:function(e){t.name="string"==typeof e?e.trim():e},expression:"name"}}),t._v(" "),n("p",{staticClass:"errors"},t._l(t.errors,function(e,o){return n("el-tag",{key:o,attrs:{type:e.type}},[t._v(t._s(e.text))])}))],1),t._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"U--full-width",attrs:{plain:"",type:"success",disabled:!t.validated},on:{click:t.addProject}},[t._v("Add project")])],1)])},Be=[],We={render:ze,staticRenderFns:Be},Ye=We,Ke=n("VU/8"),Qe=m,Xe=Ke(Ve,Ye,!1,Qe,"data-v-67f1eb0a",null),Ze=Xe.exports,tn={name:"modal-switch-project",mixins:[dt],created:function(){this.selectedProjectId=this.active.projectId},data:function(){return{mode:"switch",selectedProjectId:""}},computed:y()({},Object(w.e)(["active","projects"]),Object(w.c)(["projectMap"]),{showModal:function(){return"switchProject"===this.active.modal},validated:function(){return this.selectedProjectId!==this.active.projectId}}),methods:{switchProject:function(){this.$store.commit("setActiveProjectId",this.selectedProjectId),this.closeModal()}}},en=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"switch project",visible:t.showModal,width:"300px","close-on-click-modal":!1},on:{close:function(e){t.closeModal()}}},[n("section",{staticClass:"section"},[n("el-select",{model:{value:t.selectedProjectId,callback:function(e){t.selectedProjectId=e},expression:"selectedProjectId"}},t._l(t.projectMap,function(e,o){return n("el-option",{key:o,attrs:{label:e,value:o,hidden:o===t.selectedProjectId}})}))],1),t._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"U--full-width",attrs:{plain:"",type:"success",disabled:!t.validated},on:{click:t.switchProject}},[t._v("Switch project")])],1)])},nn=[],on={render:en,staticRenderFns:nn},an=on,rn=n("VU/8"),sn=h,cn=rn(tn,an,!1,sn,"data-v-20ca764f",null),ln=cn.exports,un={name:"modal-rename-project",mixins:[dt],created:function(){this.name={original:this.project.name,new:this.project.name}},beforeDestroy:function(){this.name=null},data:function(){return{mode:"rename",name:null}},computed:y()({},Object(w.e)(["active"]),Object(w.c)(["projectNames","project"]),{showModal:function(){return"renameProject"===this.active.modal},validationChecks:function(){return{hasName:""!==this.name.new,renamed:this.name.new!==this.name.original,nameIsUnique:!this.projectNames.includes(this.name.new)}},errors:function(){var t=[],e=this.validationChecks;return e.renamed&&(e.hasName||t.push({text:"Your project name cannot be blank",type:"warning"}),e.nameIsUnique||t.push({text:"Project name already exists",type:"danger"})),t},validated:function(){return!z()(this.validationChecks).includes(!1)}}),methods:{renameProject:function(){this.validated&&this.$store.dispatch("RENAME_PROJECT",J()({},this.project,{name:this.name.new}))}}},pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"rename project",visible:t.showModal,width:"300px","close-on-click-modal":!1},on:{close:function(e){t.closeModal()}}},[n("section",{staticClass:"section"},[n("el-input",{class:{"has-errors":!t.validated&&t.validationChecks.renamed},attrs:{type:"text"},model:{value:t.name.new,callback:function(e){t.$set(t.name,"new","string"==typeof e?e.trim():e)},expression:"name.new"}}),t._v(" "),n("p",{staticClass:"errors"},t._l(t.errors,function(e,o){return n("el-tag",{key:o,attrs:{type:e.type}},[t._v(t._s(e.text))])}))],1),t._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"U--full-width",attrs:{plain:"",type:"success",disabled:!t.validated},on:{click:t.renameProject}},[t._v("Save")])],1)])},dn=[],mn={render:pn,staticRenderFns:dn},hn=mn,fn=n("VU/8"),vn=f,gn=fn(un,hn,!1,vn,"data-v-56c82256",null),_n=gn.exports,jn={name:"project-bar",components:{ModalAddProject:Ze,ModalSwitchProject:ln,ModalRenameProject:_n},data:function(){return{options:{mode:null,show:!1}}},computed:y()({},Object(w.e)(["active","projects"]),Object(w.c)(["hasMultipleProjects","projectNames","modalShowing","project"]),{showOptions:function(){return null!==this.options.mode}}),methods:{openModal:function(t){this.$store.commit("openModal",t)},deleteProject:function(){var t=this;this.$confirm("Are you sure you want to delete this project?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",center:!0}).then(function(){t.$store.dispatch("DELETE_PROJECT",t.project.id)})},deleteAllProjects:function(){var t=this;this.$confirm("Are you sure you want to delete all of your projects?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",center:!0}).then(function(){t.$store.dispatch("DELETE_ALL_PROJECTS"),t.$router.push({name:"home"})}).catch(function(){})},modeIs:function(t){return t===this.options.mode}}},yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"project-bar"},[n("h4",{staticClass:"project-name"},[t._v(t._s(t.project.name))]),t._v(" "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:options",arg:"options"}],staticClass:"icon--info",attrs:{type:"info",plain:"",icon:"el-icon-more",circle:"",size:"mini"}}),t._v(" "),n("el-popover",{ref:"options",attrs:{trigger:"hover",placement:"bottom-end","visible-arrow":!1,"popper-class":"options"}},[n("el-menu",[n("el-menu-item-group",{attrs:{title:"Project options"}},[n("el-menu-item",{attrs:{index:"rename_project"},on:{click:function(e){t.openModal("renameProject")}}},[t._v("Rename "),n("icon",{attrs:{name:"pencil-alt"}})],1),t._v(" "),t.hasMultipleProjects?n("el-menu-item",{attrs:{index:"switch_project"},on:{click:function(e){t.openModal("switchProject")}}},[t._v("Switch "),n("icon",{attrs:{name:"sign-in-alt"}})],1):t._e(),t._v(" "),n("el-menu-item",{staticClass:"danger",attrs:{index:"delete_project"},on:{click:function(e){t.deleteProject()}}},[t._v("Delete "),n("icon",{attrs:{name:"trash-alt"}})],1)],1),t._v(" "),n("el-menu-item-group",{attrs:{title:"App options"}},[n("el-menu-item",{staticClass:"success",attrs:{index:"add_project"},on:{click:function(e){t.openModal("addProject")}}},[t._v("Add new project "),n("icon",{attrs:{name:"plus"}})],1),t._v(" "),n("el-menu-item",{staticClass:"danger",attrs:{index:"delete_all_projects"},on:{click:function(e){t.deleteAllProjects()}}},[t._v("Delete all projects "),n("icon",{attrs:{name:"trash-alt"}})],1)],1)],1)],1),t._v(" "),t.modalShowing.addProject?n("modal-add-project"):t._e(),t._v(" "),t.modalShowing.switchProject?n("modal-switch-project"):t._e(),t._v(" "),t.modalShowing.renameProject?n("modal-rename-project"):t._e()],1)},bn=[],wn={render:yn,staticRenderFns:bn},Pn=wn,kn=n("VU/8"),xn=v,Cn=kn(jn,Pn,!1,xn,"data-v-0cdb805a",null),Gn=Cn.exports,Nn={name:"main-layout",components:{ProjectBar:Gn},data:function(){return{tabs:[{name:"dataGroups",label:"Data Groups"},{name:"userStories",label:"User Stories"},{name:"userJourneys",label:"User Journeys"}]}},methods:y()({},Object(w.d)(["setActiveTab"]),{logit:function(){this.$message({message:"main clicked"})},clearActiveTab:function(){this.setActiveTab("home")},changeTab:function(t){this.setActiveTab(t),this.$router.push({name:t})},tabIsActive:function(t){return t===this.active.tab}}),computed:y()({},Object(w.c)(["isNewUser","isReturningUser","breakpointIs","devMode"]),Object(w.e)(["active","breakpoint"]),{thisYear:function(){return(new Date).getFullYear()}})},Tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticClass:"main-layout"},[t.devMode?n("span",{class:"breakpoint--"+t.breakpoint},[t._v(t._s(t.breakpoint))]):t._e(),t._v(" "),n("el-header",[n("router-link",{class:["title",{"centered-title":t.isNewUser}],attrs:{tag:"p",to:"/"},nativeOn:{click:function(e){t.clearActiveTab()}}},[t.breakpointIs("xs")&&t.isReturningUser?n("icon",{attrs:{name:"home",scale:"1.5"}}):n("span",[t._v("User Story Builder")])],1),t._v(" "),t.isReturningUser?n("project-bar"):t._e()],1),t._v(" "),n("el-main",[t.isReturningUser?[n("div",{staticClass:"button-bar"},t._l(t.tabs,function(e){return n("button",{key:e.name,class:["button-bar__button",{active:t.tabIsActive(e.name)}],on:{click:function(n){t.changeTab(e.name)}}},[t._v("\n          "+t._s(e.label)+"\n        ")])})),t._v(" "),t._t("default")]:t._e(),t._v(" "),t.isNewUser?[n("h1",[t._v("Welcome!")]),t._v(" "),t._t("default")]:t._e()],2),t._v(" "),n("el-footer",[n("span",[t._v("EmilyRosina © "+t._s(t.thisYear))]),t._v(" "),n("a",{staticClass:"github",attrs:{href:"https://github.com/EmilyRosina/user-story-builder",target:"_blank"}},[n("icon",{attrs:{name:"brands/github",scale:"2.5"}})],1)])],1)},Un=[],An={render:Tn,staticRenderFns:Un},Sn=An;[n("VU/8")(Nn,Sn,!1,g,"data-v-76d36cea",null).exports].forEach(function(t){_.default.component(t.name,t)}),_.default.config.devtools=!0,_.default.config.productionTip=!1,new _.default({el:"#app",router:Re,store:Le,template:"<App/>",components:{App:A}})},NJDl:function(t,e){},XqoT:function(t,e){},YKQe:function(t,e){},a2ga:function(t,e){},f56T:function(t,e){},"j6+r":function(t,e){},"p2+p":function(t,e){},t4tR:function(t,e){},tNiN:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.2b2ab0dc90157cbc6c9c.js.map