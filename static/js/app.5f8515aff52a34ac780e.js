webpackJsonp([1],{"0DfI":function(e,t){},"2lMp":function(e,t){},"5AqT":function(e,t){},"5K1P":function(e,t){},"6ui9":function(e,t){},D4uH:function(e,t,n){"use strict";function o(){return"fa-"+(s++).toString(16)}function r(e){n("5AqT")}var i={},a={name:"icon",props:{name:{type:String,validator:function(e){return e?e in i||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+e+'".\nPlease make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(e){return"horizontal"===e||"vertical"===e}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?i[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var e=this.icon,t=e.width,n=e.height;return Math.max(t,n)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var e=this.icon.raw,t={};return e=e.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(e,n,r){var i=o();return t[r]=i,' id="'+i+'"'}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(e,n,o,r){var i=n||r;return i&&t[i]?"#"+t[i]:e}),e}},mounted:function(){var e=this;if(!this.icon){this.$children.forEach(function(t){t.outerScale=e.normalizedScale});var t=0,n=0;this.$children.forEach(function(e){t=Math.max(t,e.width),n=Math.max(n,e.height)}),this.childrenWidth=t,this.childrenHeight=n,this.$children.forEach(function(e){e.x=(t-e.width)/2,e.y=(n-e.height)/2})}},register:function(e){for(var t in e){var n=e[t];n.paths||(n.paths=[]),n.d&&n.paths.push({d:n.d}),n.polygons||(n.polygons=[]),n.points&&n.polygons.push({points:n.points}),i[t]=n}},icons:i},s=870711,c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{class:e.klass,style:e.style,attrs:{version:"1.1",role:e.label?"img":"presentation","aria-label":e.label,x:e.x,y:e.y,width:e.width,height:e.height,viewBox:e.box}},[e._t("default",[e.icon&&e.icon.paths?e._l(e.icon.paths,function(t,o){return n("path",e._b({key:"path-"+o},"path",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.polygons?e._l(e.icon.polygons,function(t,o){return n("polygon",e._b({key:"polygon-"+o},"polygon",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.raw?[n("g",{domProps:{innerHTML:e._s(e.raw)}})]:e._e()])],2)},l=[],u={render:c,staticRenderFns:l},d=u,p=n("VU/8"),m=r,h=p(a,d,!1,m,null,null);t.a=h.exports},GpSU:function(e,t){},"Mw8/":function(e,t){},NHnr:function(e,t,n){"use strict";function o(e){n("0DfI")}function r(e){n("j6+r")}function i(e){n("qnmg")}function a(e){n("W79x")}function s(e){n("fbC2")}function c(e){n("vIo8")}function l(e){n("lZcv")}function u(e){n("NJDl")}function d(e){n("XqoT")}function p(e){n("PT0k")}function m(e){n("Mw8/")}function h(e){n("5K1P")}function f(e){n("GpSU")}function v(e){n("6ui9")}Object.defineProperty(t,"__esModule",{value:!0});var _=n("7+uW"),g=n("Dd8w"),j=n.n(g),y={breakpoints:{xs:{min:0,max:767},sm:{min:768,max:991},md:{min:992,max:1199},lg:{min:1200,max:1920},xl:{min:1921,max:1/0}},breakpoint:function(e){function t(e,t){return t>=n[e].min&&t<=n[e].max}var n=this.breakpoints;return t("xs",e)?"xs":t("sm",e)?"sm":t("md",e)?"md":t("lg",e)?"lg":t("xl",e)?"xl":void 0}},b=n("NYxO"),w={name:"app",created:function(){var e=this;if(this.$store.commit("setBreakpoint",y.breakpoint(window.innerWidth)),window.addEventListener("resize",function(){var t=y.breakpoint(window.innerWidth);e.breakpointIs(t)||e.$store.commit("setBreakpoint",t)}),this.$store.dispatch("GET_PROJECTS"),this.isReturningUser)if(this.hasMultipleProjects){var t=this.projectIds[0];this.$store.commit("setActiveProjectId",t),this.$store.dispatch("GET_PROJECT_DATA",{id:t})}else this.$store.commit("setActiveProjectId",this.projectIds[0])},computed:j()({},Object(b.c)(["isReturningUser","breakpointIs","projectIds","hasMultipleProjects"]))},P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},k=[],x={render:P,staticRenderFns:k},C=x,T=n("VU/8"),S=o,E=T(w,C,!1,S,null,null),U=E.exports,O={active:{modal:"",tab:"",projectId:""},projects:{},breakpoint:""},A=n("fZjL"),N=n.n(A),I={name:"",dataGroups:[],userStories:[],userJourneys:[]},D={project:I},M={devMode:function(){return!1},isNewUser:function(e){return 0===N()(e.projects).length},isReturningUser:function(e,t){return!t.isNewUser},regex:function(){return{isProject:/^proj_/}},hasMultipleProjects:function(e,t){return N()(e.projects).length>1},project:function(e){return e.projects[e.active.projectId]},projectIds:function(e){return N()(e.projects)},projectNames:function(e,t){return t.projectIds.map(function(t){return e.projects[t].name})},projectMap:function(e,t){var n={};return t.projectIds.map(function(t){n[t]=e.projects[t].name}),n},template:function(){return D},modalShowing:function(e){var t=function(t){return e.active.modal===t};return{addProject:t("addProject"),switchProject:t("switchProject"),renameProject:t("renameProject"),addDataGroup:t("addDataGroup"),editDataGroup:t("editDataGroup")}},breakpointIs:function(e){return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.includes(e.breakpoint)}}},G=n("//Fk"),R=n.n(G),$=n("woOf"),q=n.n($),J=n("zL8q"),L=n.n(J),F={GET_PROJECTS:function(e){var t={};N()(localStorage).filter(function(t){return e.getters.regex.isProject.test(t)}).forEach(function(e){t[e]=q()(JSON.parse(localStorage[e]),{id:e})}),e.commit("setProjects",t)},GET_PROJECT_DATA:function(e,t){var n=JSON.parse(localStorage[t.id]);e.commit("updateProjectData",q()({},n))},SET_PROJECT_DATA:function(e,t){e.commit("localStorage__updateProject",t),e.commit("updateProjectData",t),t.id!==e.getters.project.id&&e.commit("setActiveProjectId",t.id)},ADD_PROJECT:function(e,t){var n="proj_"+Date.now(),o=t.name,r=q()({},e.getters.template.project,{name:o,id:n});return new R.a(function(t){e.commit("localStorage__addProject",r),localStorage[n]&&t()}).then(function(){return e.commit("addProject",q()({},r)),e.commit("setActiveProjectId",n),e.state.active.projectId===n}).then(function(t){t&&(J.Notification.success({title:"New project added",dangerouslyUseHTMLString:!0,message:"Successfully added project <b>"+o+"</b>",type:"success",showClose:!1,duration:3e3,position:"bottom-right"}),e.commit("closeModal"))})},RENAME_PROJECT:function(e,t){var n=e.getters.project.name;return new R.a(function(n){e.commit("localStorage__updateProject",t),JSON.parse(localStorage[t.id]).name===t.name&&n()}).then(function(){return e.commit("renameProject",t),t.name===e.getters.project.name}).then(function(o){o&&(e.commit("closeModal"),J.Notification.success({title:"Rename successful",message:"Successfully renamed <b>"+n+"</b> to <b>"+t.name+"</b>",dangerouslyUseHTMLString:!0,type:"success",showClose:!1,duration:3e3,position:"bottom-right"}))})},DELETE_PROJECT:function(e,t){var n=e.getters.projectMap[t];return new R.a(function(n){e.commit("localStorage__deleteProject",t),localStorage[t]||n()}).then(function(){return e.commit("deleteProject",t),!e.getters.projectIds.includes(t)}).then(function(t){if(t&&e.getters.isReturningUser){var n=e.getters.projectIds[0];return e.commit("setActiveProjectId",n),e.getters.projectId===n}if(t&&e.getters.isNewUser)return e.commit("setActiveProjectId",null),!0}).then(function(e){J.Notification.success({title:"Deletion successful",message:"Project <b>"+n+"</b> successfully deleted",dangerouslyUseHTMLString:!0,type:"success",showClose:!1,duration:3e3,position:"bottom-right"})})},DELETE_ALL_PROJECTS:function(e){return new R.a(function(t){e.getters.projectIds.forEach(function(t){e.commit("localStorage__deleteProject",t)}),0===N()(localStorage).filter(function(t){return e.getters.regex.isProject.test(t)}).length&&t()}).then(function(){return e.commit("deleteAllProjects"),0===e.getters.projectIds.length}).then(function(t){t&&(e.commit("setActiveProjectId",null),J.Notification.success({title:"Deletion successful",message:"All projects successfully deleted",type:"success",showClose:!1,duration:3e3,position:"bottom-right"}))})}},V=n("mvHQ"),z=n.n(V),B={localStorage__addProject:function(e,t){localStorage[t.id]=z()(t)},localStorage__updateProject:function(e,t){localStorage[t.id]=z()(t)},localStorage__deleteProject:function(e,t){localStorage.removeItem(t)},setActiveProjectId:function(e,t){e.active.projectId=t},setActiveTab:function(e,t){e.active.tab=t},addProject:function(e,t){_.default.set(e.projects,t.id,t)},renameProject:function(e,t){e.projects[t.id].name=t.name},updateProjectData:function(e,t){e.projects[t.id]=t},setProjects:function(e,t){e.projects=t},deleteProject:function(e,t){_.default.delete(e.projects,t)},deleteAllProjects:function(e){e.projects={}},openModal:function(e,t){e.active.modal=t},closeModal:function(e){e.active.modal=null},setBreakpoint:function(e,t){e.breakpoint=t}};_.default.use(b.a);var H=new b.a.Store({state:O,getters:M,actions:F,mutations:B}),W=n("/ocq"),Y=n("gRE1"),K=n.n(Y),Z={name:"home",data:function(){return{newProjectName:"",typing:!1}},mounted:function(){this.$store.commit("setActiveTab","home")},computed:j()({},Object(b.c)(["projectNames","isNewUser","isReturningUser","template"]),Object(b.e)(["projects"]),{validationChecks:function(){return{hasName:""!==this.newProjectName,nameIsUnique:!K()(this.projects).includes(this.newProjectName),typing:this.typing}},errors:function(){var e=[],t=this.validationChecks;return t.typing&&(t.hasName||e.push({text:"You need to enter a name for your project to continue",type:"warning"}),t.nameIsUnique||e.push({text:"Project name already exists",type:"danger"})),e},validated:function(){return!K()(this.validationChecks).includes(!1)}}),methods:{addProject:function(){this.$store.dispatch("ADD_PROJECT",{name:this.newProjectName}),this.reset()},reset:function(){this.newProjectName="",this.typing=!1}}},X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main-layout",{staticClass:"home"},[n("el-row",[e.isReturningUser?n("el-col",[n("el-tag",{attrs:{type:"warning"}},[e._v("Dashboard coming soon...")])],1):e._e(),e._v(" "),e.isNewUser?n("el-col",{staticClass:"setup",attrs:{sm:10,md:8}},[n("h3",[e._v("To get started, simply choose a name for your first project:")]),e._v(" "),n("div",{staticClass:"add-new-project"},[n("el-input",{staticClass:"project-name__input",on:{blur:function(t){e.typing=!0}},nativeOn:{"~keydown":function(t){e.typing=!0}},model:{value:e.newProjectName,callback:function(t){e.newProjectName=t},expression:"newProjectName"}}),e._v(" "),n("p",{staticClass:"project-name__errors"},e._l(e.errors,function(t,o){return n("el-tag",{key:o,attrs:{type:t.type,size:"mini"}},[e._v(e._s(t.text))])})),e._v(" "),n("el-button",{attrs:{type:"warning",disabled:!e.validated},on:{click:e.addProject}},[e._v("Create")])],1)]):e._e()],1)],1)},Q=[],ee={render:X,staticRenderFns:Q},te=ee,ne=n("VU/8"),oe=r,re=ne(Z,te,!1,oe,"data-v-46ebf264",null),ie=re.exports,ae={methods:j()({},Object(b.d)(["openModal"]))},se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-col",{staticClass:"U--margin-auto U--unset-float",attrs:{lg:6,md:8,sm:10}},[n("el-button",{staticClass:"U--full-width",attrs:{type:"warning",plain:""},nativeOn:{click:function(t){e.openModal("addDataGroup")}}},[e._v("Add Data Group")])],1)},ce=[],le={render:se,staticRenderFns:ce},ue=le,de=n("VU/8"),pe=i,me=de(ae,ue,!1,pe,"data-v-ce38d4fa",null),he=me.exports,fe={name:"data-group-block",props:{index:{type:Number,required:!0},dataGroup:{type:Object,required:!0}},data:function(){return{showOptions:!1,selected:null}},computed:j()({},Object(b.c)(["project"]),{propertyLengthText:function(){return 0===this.propertiesLength?"No properties":1===this.propertiesLength?"1 property":this.propertiesLength+" properties"},tagType:function(){return 0===this.propertiesLength?"info":"warning"},propertiesLength:function(){return this.dataGroup.properties.length}}),methods:{openOptions:function(){this.showOptions=!0},ifSelected:function(e){return{active:this.selected===e}},closeOptions:function(){this.showOptions=!1,this.selected=null},editDataGroup:function(){this.selected="edit",this.$message({message:"Open edit dataGrop modal -- index "+this.index+" --  dataGroup "+this.dataGroup.name})},deleteDataGroup:function(e,t){var n=this;if("delete"!==this.selected)this.selected="delete";else{var o=q()({},this.project,{dataGroups:this.project.dataGroups.filter(function(e){return e.id!==n.dataGroup.id})});this.$store.dispatch("SET_PROJECT_DATA",o),this.$message({message:"Deleted dataGroup "+this.dataGroup.name,type:"success"})}}}},ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"data-group-block"},[n("el-row",{attrs:{type:"flex",align:"middle"},nativeOn:{click:function(t){e.openOptions()}}},[n("h2",{staticClass:"data-group-block__name"},[e._v(e._s(e.dataGroup.name))]),e._v(" "),n("el-tag",{staticClass:"data-group-block__property-length",attrs:{type:e.tagType,size:"mini"}},[e._v(e._s(e.propertyLengthText))]),e._v(" "),n("div",{staticClass:"data-group-block__property-list"},e._l(e.dataGroup.properties,function(t){return n("span",{key:t.key,staticClass:"property"},[e._v(e._s(t.value))])}))],1),e._v(" "),e.showOptions?n("div",{staticClass:"overlay",on:{click:e.closeOptions}}):e._e(),e._v(" "),e.showOptions?n("el-row",{staticClass:"options-overlay",attrs:{type:"flex",align:"middle"}},[n("div",{class:["options-overlay__edit",e.ifSelected("edit")],on:{click:function(t){e.editDataGroup()}}},[e._v("Edit")]),e._v(" "),n("div",{class:["options-overlay__delete",e.ifSelected("delete")],on:{click:function(t){e.deleteDataGroup()}}},[e._v(e._s("delete"===e.selected?"Are you sure?":"Delete"))])]):e._e()],1)},_e=[],ge={render:ve,staticRenderFns:_e},je=ge,ye=n("VU/8"),be=a,we=ye(fe,je,!1,be,"data-v-a4047b22",null),Pe=we.exports,ke={name:"data-group-list",components:{DataGroupBlock:Pe},computed:j()({},Object(b.c)(["project"]),{dataGroups:function(){return this.project.dataGroups}})},xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-col",[n("el-row",{attrs:{gutter:20,"no-gutters":""}},e._l(e.dataGroups,function(e,t){return n("el-col",{key:e.id,attrs:{sm:12,lg:8}},[n("data-group-block",{attrs:{dataGroup:e,index:t}})],1)}))],1)},Ce=[],Te={render:xe,staticRenderFns:Ce},Se=Te,Ee=n("VU/8"),Ue=s,Oe=Ee(ke,Se,!1,Ue,"data-v-3a905ae7",null),Ae=Oe.exports,Ne={created:function(){!("home"===this.$route.name)&&this.$store.getters.isNewUser&&this.$router.push({name:"home"})}},Ie={methods:{closeModal:function(){this.$store.commit("closeModal")}}},De={name:"modal-add-datagroup",mixins:[Ie],data:function(){return{id:"",typing:!1,name:"",properties:[]}},created:function(){this.id=Date.now()},methods:j()({},Object(b.b)(["SET_PROJECT_DATA"]),{hasNoName:function(e){return!e.new&&""===e.value},startTyping:function(e){delete this.properties.find(function(t){return t.key===e}).new},isUnique:function(e){return""===e||!this.nonUniqueProperties.includes(e)},isFirst:function(e){return 0===e},initialiseProperties:function(e){this.addProperty(e.target.value)},addProperty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.properties.push({key:Date.now(),value:e,new:!0})},removeOption:function(e){this.properties.splice(e,1)},addDataGroup:function(){var e=this.project.dataGroups.concat({name:this.name,properties:this.properties,id:this.id}),t=q()({},this.project,{dataGroups:e});this.SET_PROJECT_DATA(t),this.closeModal()}}),computed:j()({},Object(b.e)(["active"]),Object(b.c)(["project","breakpointIs"]),{showModal:function(){return"addDataGroup"===this.active.modal},modalWidth:function(){return this.breakpointIs("xs")?"90%":"500px"},nonUniqueProperties:function(){var e={};return this.properties.forEach(function(t){e[t.value]?e[t.value]="not unique":e[t.value]="unique"}),N()(e).forEach(function(t){"unique"!==e[t]&&""!==t||delete e[t]}),N()(e)},validationChecks:function(){return{hasName:""!==this.name,nameIsUnique:!this.project.dataGroups.map(function(e){return e.name}).includes(this.name),typing:!0===this.typing,allPropertiesHaveNames:!this.properties.map(function(e){return e.value}).includes(""),propertiesHaveNames:!this.properties.filter(function(e){return!e.new}).map(function(e){return e.value}).includes(""),propertyNamesAreUnique:!this.nonUniqueProperties.length>0}},errors:function(){var e=[[],[],[]],t=e[0],n=e[1],o=this.validationChecks;return o.typing&&(o.hasName||t.push("You must supply a name"),o.nameIsUnique||t.push("Name already exists"),o.propertiesHaveNames||n.push("All properties must be named"),o.propertyNamesAreUnique||n.push("Properties ["+this.nonUniqueProperties.join("] [")+"] are not unique")),{name:t,properties:n}},validated:function(){return!K()(this.validationChecks).includes(!1)},hasProperties:function(){return this.properties.length>0},propertyNames:function(){return this.properties.map(function(e){return e.value})}})},Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"add-data-group",attrs:{title:"add data group",visible:e.showModal,width:e.modalWidth,"close-on-click-modal":!1},on:{close:function(t){e.closeModal()}}},[n("span",[n("el-row",{staticClass:"section",attrs:{type:"flex"}},[n("el-col",[n("span",{staticClass:"subtitle required"},[e._v("Name")]),e._v(" "),n("el-row",{attrs:{type:"flex"}},[n("el-input",{staticClass:"centered",nativeOn:{"~keydown":function(t){e.typing=!0},"~blur":function(t){e.typing=!0}},model:{value:e.name,callback:function(t){e.name="string"==typeof t?t.trim():t},expression:"name"}})],1),e._v(" "),e._l(e.errors.name,function(t,o){return n("el-tag",{key:"name_error_"+o,attrs:{type:"danger"}},[e._v(e._s(t))])})],2)],1),e._v(" "),n("el-row",{staticClass:"section"},[n("el-col",[e.hasProperties?n("span",{staticClass:"subtitle"},[e._v("Properties")]):e._e(),e._v(" "),e.hasProperties?e._l(e.properties,function(t,o){return n("el-row",{key:t.key,staticClass:"no-gutter",attrs:{type:"flex"}},[t.new?n("icon",{staticStyle:{color:"yellowgreen",position:"absolute","z-index":"100",left:"-5px",top:"-2px"},attrs:{name:"leaf"}}):e._e(),e._v(" "),n("el-input",{class:["property-input",{"has-errors":!e.isUnique(t.value)||e.hasNoName(t)}],attrs:{placeholder:""},nativeOn:{"~keydown":function(n){e.startTyping(t.key)}},model:{value:t.value,callback:function(n){e.$set(t,"value","string"==typeof n?n.trim():n)},expression:"property.value"}}),e._v(" "),n("el-button-group",{staticClass:"joint-input"},[n("el-button",{staticClass:"remove",attrs:{type:"warning",plain:""},on:{click:function(t){e.removeOption(o)}}},[n("icon",{attrs:{name:"minus",scale:"0.75"}})],1),e._v(" "),n("el-button",{staticClass:"add",attrs:{type:"warning",plain:"",disabled:""===t},on:{click:function(t){e.addProperty()}}},[n("icon",{attrs:{name:"plus",scale:"0.75"}})],1)],1)],1)}):[n("el-row",{staticClass:"no-gutter",attrs:{type:"flex"}},[n("el-button",{staticClass:"U--full-width",attrs:{type:"warning",plain:"",disabled:!e.typing},nativeOn:{click:function(t){e.addProperty()}}},[e._v("Add Property")])],1)],e._v(" "),e._l(e.errors.properties,function(t,o){return n("el-tag",{key:"property_error_"+o,attrs:{type:"danger"}},[e._v(e._s(t))])})],2)],1)],1),e._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"U--full-width",attrs:{plain:"",type:"success",disabled:!e.validated},on:{click:e.addDataGroup}},[e._v("Add data group")])],1)])},Ge=[],Re={render:Me,staticRenderFns:Ge},$e=Re,qe=n("VU/8"),Je=c,Le=qe(De,$e,!1,Je,"data-v-51253b8e",null),Fe=Le.exports,Ve={name:"data-groups",mixins:[Ne],components:{BtnAddDataGroup:he,DataGroupList:Ae,ModalAddDataGroup:Fe},mounted:function(){this.$store.commit("setActiveTab","dataGroups")},computed:j()({},Object(b.c)(["modalShowing","project"]),{haveDataGroups:function(){return this.project.dataGroups.length>0}})},ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main-layout",[e._e(),e._v(" "),e.modalShowing.addDataGroup?n("modal-add-data-group"):e._e(),e._v(" "),n("el-row",[n("btn-add-data-group")],1),e._v(" "),n("el-row",[e.haveDataGroups?n("data-group-list"):e._e()],1)],1)},Be=[],He={render:ze,staticRenderFns:Be},We=He,Ye=n("VU/8"),Ke=l,Ze=Ye(Ve,We,!1,Ke,"data-v-5e10df94",null),Xe=Ze.exports,Qe={data:function(){return{userType:"",actionType:"",action:"",determiner:"",dataGroup:""}}},et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-col",[n("el-row",[e._v("\n    As a\n    "),n("el-select",{attrs:{placeholder:"user"},model:{value:e.userType,callback:function(t){e.userType=t},expression:"userType"}},[n("el-option",{attrs:{value:"user"}},[e._v("user")])],1),e._v("\n    I\n    "),n("el-select",{attrs:{placeholder:"can"},model:{value:e.actionType,callback:function(t){e.actionType=t},expression:"actionType"}},[n("el-option",{attrs:{value:"can"}},[e._v("can")])],1),e._v(" "),n("el-select",{attrs:{placeholder:"delete"},model:{value:e.action,callback:function(t){e.action=t},expression:"action"}},[n("el-option",{attrs:{value:"delete"}},[e._v("delete")])],1),e._v(" "),n("el-select",{attrs:{"allow-create":"",placeholder:"a"},model:{value:e.determiner,callback:function(t){e.determiner=t},expression:"determiner"}},[n("el-option",{attrs:{value:"a"}},[e._v("a")])],1),e._v(" "),n("el-select",{attrs:{placeholder:"books"},model:{value:e.dataGroup,callback:function(t){e.dataGroup=t},expression:"dataGroup"}},[n("el-option",{attrs:{value:"book"}},[e._v("book")])],1)],1)],1)},tt=[],nt={render:et,staticRenderFns:tt},ot=nt,rt=n("VU/8"),it=u,at=rt(Qe,ot,!1,it,"data-v-4e69aa2e",null),st=at.exports,ct={name:"user-stories",mixins:[Ne],components:{UserStory:st},mounted:function(){this.$store.commit("setActiveTab","userStories")}},lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main-layout",[n("el-tag",{attrs:{type:"warning"}},[e._v("Coming soon...")]),e._v(" "),e._e()],1)},ut=[],dt={render:lt,staticRenderFns:ut},pt=dt,mt=n("VU/8"),ht=mt(ct,pt,!1,null,null,null),ft=ht.exports,vt={name:"user-journeys",mixins:[Ne],mounted:function(){this.$store.commit("setActiveTab","userJourneys")}},_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main-layout",[n("el-tag",{attrs:{type:"warning"}},[e._v("Coming soon...")])],1)},gt=[],jt={render:_t,staticRenderFns:gt},yt=jt,bt=n("VU/8"),wt=bt(vt,yt,!1,null,null,null),Pt=wt.exports,kt={name:"page-not-found"},xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main-layout",[n("h4",[e._v("Oops!")]),e._v(" "),n("p",[e._v("Page not found")]),e._v(" "),n("router-link",{attrs:{to:{name:"home"}}},[e._v("Go back to home")])],1)},Ct=[],Tt={render:xt,staticRenderFns:Ct},St=Tt,Et=n("VU/8"),Ut=d,Ot=Et(kt,St,!1,Ut,"data-v-44483c5a",null),At=Ot.exports;_.default.use(W.a);var Nt=new W.a({routes:[{path:"/",name:"home",component:ie},{path:"/data",name:"dataGroups",component:Xe},{path:"/stories",name:"userStories",component:ft},{path:"/journey",name:"userJourneys",component:Pt},{path:"*",name:"PageNotFound",component:At}]}),It=(n("tvR6"),n("D4uH"));n("D/PP");_.default.use(L.a),_.default.component("icon",It.a),_.default.filter("capitalise",function(e){return"string"!=typeof e?void console.error("Filter 'capitalise': String not provided, please provide string"):e.charAt(0).toUpperCase()+e.slice(1)});var Dt=(n("2lMp"),{name:"modal-add-project",mixins:[Ie],data:function(){return{mode:"add",name:"",typing:!1}},computed:j()({},Object(b.e)(["active","template"]),Object(b.c)(["projectNames"]),{showModal:function(){return"addProject"===this.active.modal},validationChecks:function(){return{hasName:""!==this.name,isTyping:this.typing,nameIsUnique:!this.projectNames.includes(this.name)}},errors:function(){var e=[],t=this.validationChecks;return t.isTyping&&(t.hasName||e.push({text:"Your project name cannot be blank",type:"warning"}),t.nameIsUnique||e.push({text:"Project name already exists",type:"danger"})),e},validated:function(){return!K()(this.validationChecks).includes(!1)}}),methods:{addProject:function(){this.validated&&this.$store.dispatch("ADD_PROJECT",{name:this.name})}}}),Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"add project",visible:e.showModal,width:"300px","close-on-click-modal":!1},on:{close:function(t){e.closeModal()}}},[n("section",{staticClass:"section"},[n("el-input",{class:{"has-errors":!e.validated&&e.typing},attrs:{type:"text"},nativeOn:{"~keydown":function(t){e.typing=!0}},model:{value:e.name,callback:function(t){e.name="string"==typeof t?t.trim():t},expression:"name"}}),e._v(" "),n("p",{staticClass:"errors"},e._l(e.errors,function(t,o){return n("el-tag",{key:o,attrs:{type:t.type}},[e._v(e._s(t.text))])}))],1),e._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"U--full-width",attrs:{plain:"",type:"success",disabled:!e.validated},on:{click:e.addProject}},[e._v("Add data group")])],1)])},Gt=[],Rt={render:Mt,staticRenderFns:Gt},$t=Rt,qt=n("VU/8"),Jt=p,Lt=qt(Dt,$t,!1,Jt,"data-v-da25e7bc",null),Ft=Lt.exports,Vt={name:"modal-switch-project",mixins:[Ie],created:function(){this.selectedProjectId=this.active.projectId},data:function(){return{mode:"switch",selectedProjectId:""}},computed:j()({},Object(b.e)(["active","projects"]),Object(b.c)(["projectMap"]),{showModal:function(){return"switchProject"===this.active.modal},validated:function(){return this.selectedProjectId!==this.active.projectId}}),methods:{switchProject:function(){this.$store.commit("setActiveProjectId",this.selectedProjectId),this.closeModal()}}},zt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"switch project",visible:e.showModal,width:"300px","close-on-click-modal":!1},on:{close:function(t){e.closeModal()}}},[n("section",{staticClass:"section"},[n("el-select",{model:{value:e.selectedProjectId,callback:function(t){e.selectedProjectId=t},expression:"selectedProjectId"}},e._l(e.projectMap,function(t,o){return n("el-option",{key:o,attrs:{label:t,value:o,hidden:o===e.selectedProjectId}})}))],1),e._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"U--full-width",attrs:{plain:"",type:"success",disabled:!e.validated},on:{click:e.switchProject}},[e._v("Switch project")])],1)])},Bt=[],Ht={render:zt,staticRenderFns:Bt},Wt=Ht,Yt=n("VU/8"),Kt=m,Zt=Yt(Vt,Wt,!1,Kt,"data-v-4b9605f6",null),Xt=Zt.exports,Qt={name:"modal-rename-project",mixins:[Ie],created:function(){this.name={original:this.project.name,new:this.project.name}},beforeDestroy:function(){this.name=null},data:function(){return{mode:"rename",name:null}},computed:j()({},Object(b.e)(["active"]),Object(b.c)(["projectNames","project"]),{showModal:function(){return"renameProject"===this.active.modal},validationChecks:function(){return{hasName:""!==this.name.new,renamed:this.name.new!==this.name.original,nameIsUnique:!this.projectNames.includes(this.name.new)}},errors:function(){var e=[],t=this.validationChecks;return t.renamed&&(t.hasName||e.push({text:"Your project name cannot be blank",type:"warning"}),t.nameIsUnique||e.push({text:"Project name already exists",type:"danger"})),e},validated:function(){return!K()(this.validationChecks).includes(!1)}}),methods:{renameProject:function(){this.validated&&this.$store.dispatch("RENAME_PROJECT",q()({},this.project,{name:this.name.new}))}}},en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"rename project",visible:e.showModal,width:"300px","close-on-click-modal":!1},on:{close:function(t){e.closeModal()}}},[n("section",{staticClass:"section"},[n("el-input",{class:{"has-errors":!e.validated&&e.validationChecks.renamed},attrs:{type:"text"},model:{value:e.name.new,callback:function(t){e.$set(e.name,"new","string"==typeof t?t.trim():t)},expression:"name.new"}}),e._v(" "),n("p",{staticClass:"errors"},e._l(e.errors,function(t,o){return n("el-tag",{key:o,attrs:{type:t.type}},[e._v(e._s(t.text))])}))],1),e._v(" "),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"U--full-width",attrs:{plain:"",type:"success",disabled:!e.validated},on:{click:e.renameProject}},[e._v("Save")])],1)])},tn=[],nn={render:en,staticRenderFns:tn},on=nn,rn=n("VU/8"),an=h,sn=rn(Qt,on,!1,an,"data-v-f11c66b0",null),cn=sn.exports,ln={name:"project-bar",components:{ModalAddProject:Ft,ModalSwitchProject:Xt,ModalRenameProject:cn},data:function(){return{options:{mode:null,show:!1}}},computed:j()({},Object(b.e)(["active","projects"]),Object(b.c)(["hasMultipleProjects","projectNames","modalShowing","project"]),{showOptions:function(){return null!==this.options.mode}}),methods:{openModal:function(e){this.$store.commit("openModal",e)},deleteProject:function(){var e=this;this.$confirm("Are you sure you want to delete this project?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",center:!0}).then(function(){e.$store.dispatch("DELETE_PROJECT",e.project.id)})},deleteAllProjects:function(){var e=this;this.$confirm("Are you sure you want to delete all of your projects?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",center:!0}).then(function(){e.$store.dispatch("DELETE_ALL_PROJECTS"),e.$router.push({name:"home"})}).catch(function(){})},modeIs:function(e){return e===this.options.mode}}},un=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-bar"},[n("h4",{staticClass:"project-name"},[e._v(e._s(e.project.name))]),e._v(" "),n("el-button",{directives:[{name:"popover",rawName:"v-popover:options",arg:"options"}],staticClass:"icon--info",attrs:{type:"info",plain:"",icon:"el-icon-more",circle:"",size:"mini"}}),e._v(" "),n("el-popover",{ref:"options",attrs:{trigger:"hover",placement:"bottom-end","visible-arrow":!1,"popper-class":"options"}},[n("el-menu",[n("el-menu-item-group",{attrs:{title:"Project options"}},[n("el-menu-item",{attrs:{index:"rename_project"},on:{click:function(t){e.openModal("renameProject")}}},[e._v("Rename "),n("icon",{attrs:{name:"pencil-alt"}})],1),e._v(" "),e.hasMultipleProjects?n("el-menu-item",{attrs:{index:"switch_project"},on:{click:function(t){e.openModal("switchProject")}}},[e._v("Switch "),n("icon",{attrs:{name:"sign-in-alt"}})],1):e._e(),e._v(" "),n("el-menu-item",{staticClass:"danger",attrs:{index:"delete_project"},on:{click:function(t){e.deleteProject()}}},[e._v("Delete "),n("icon",{attrs:{name:"trash-alt"}})],1)],1),e._v(" "),n("el-menu-item-group",{attrs:{title:"App options"}},[n("el-menu-item",{staticClass:"success",attrs:{index:"add_project"},on:{click:function(t){e.openModal("addProject")}}},[e._v("Add new project "),n("icon",{attrs:{name:"plus"}})],1),e._v(" "),n("el-menu-item",{staticClass:"danger",attrs:{index:"delete_all_projects"},on:{click:function(t){e.deleteAllProjects()}}},[e._v("Delete all projects "),n("icon",{attrs:{name:"trash-alt"}})],1)],1)],1)],1),e._v(" "),e.modalShowing.addProject?n("modal-add-project"):e._e(),e._v(" "),e.modalShowing.switchProject?n("modal-switch-project"):e._e(),e._v(" "),e.modalShowing.renameProject?n("modal-rename-project"):e._e()],1)},dn=[],pn={render:un,staticRenderFns:dn},mn=pn,hn=n("VU/8"),fn=f,vn=hn(ln,mn,!1,fn,"data-v-238e9a38",null),_n=vn.exports,gn={name:"main-layout",components:{ProjectBar:_n},data:function(){return{tabs:[{name:"dataGroups",label:"Data Groups"},{name:"userStories",label:"User Stories"},{name:"userJourneys",label:"User Journeys"}]}},methods:j()({},Object(b.d)(["setActiveTab"]),{logit:function(){this.$message({message:"main clicked"})},clearActiveTab:function(){this.setActiveTab("home")},changeTab:function(e){this.setActiveTab(e),this.$router.push({name:e})},tabIsActive:function(e){return e===this.active.tab}}),computed:j()({},Object(b.c)(["isNewUser","isReturningUser","breakpointIs","devMode"]),Object(b.e)(["active","breakpoint"]),{thisYear:function(){return(new Date).getFullYear()}})},jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"main-layout"},[e.devMode?n("span",{class:"breakpoint--"+e.breakpoint},[e._v(e._s(e.breakpoint))]):e._e(),e._v(" "),n("el-header",[n("router-link",{class:["title",{"centered-title":e.isNewUser}],attrs:{tag:"p",to:"/"},nativeOn:{click:function(t){e.clearActiveTab()}}},[e.breakpointIs("xs")&&e.isReturningUser?n("icon",{attrs:{name:"home",scale:"1.5"}}):n("span",[e._v("User Story Builder")])],1),e._v(" "),e.isReturningUser?n("project-bar"):e._e()],1),e._v(" "),n("el-main",[e.isReturningUser?[n("div",{staticClass:"button-bar"},e._l(e.tabs,function(t){return n("button",{key:t.name,class:["button-bar__button",{active:e.tabIsActive(t.name)}],on:{click:function(n){e.changeTab(t.name)}}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),e._v(" "),e._t("default")]:e._e(),e._v(" "),e.isNewUser?[n("h1",[e._v("Welcome!")]),e._v(" "),e._t("default")]:e._e()],2),e._v(" "),n("el-footer",[n("span",[e._v("EmilyRosina © "+e._s(e.thisYear))]),e._v(" "),n("a",{staticClass:"github",attrs:{href:"https://github.com/EmilyRosina/user-story-builder",target:"_blank"}},[n("icon",{attrs:{name:"brands/github",scale:"2.5"}})],1)])],1)},yn=[],bn={render:jn,staticRenderFns:yn},wn=bn;[n("VU/8")(gn,wn,!1,v,"data-v-9b197b04",null).exports].forEach(function(e){_.default.component(e.name,e)}),_.default.config.devtools=!0,_.default.config.productionTip=!1,new _.default({el:"#app",router:Nt,store:H,template:"<App/>",components:{App:U}})},NJDl:function(e,t){},PT0k:function(e,t){},W79x:function(e,t){},XqoT:function(e,t){},fbC2:function(e,t){},"j6+r":function(e,t){},lZcv:function(e,t){},qnmg:function(e,t){},tvR6:function(e,t){},vIo8:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5f8515aff52a34ac780e.js.map